{"version":3,"sources":["components/filters/items.js","components/filters/items-query.js","components/filters/time-query.js","components/filters/ipv-query.js","components/tables/paths-table.js","utils/common.js","components/viewers/path-chart.js","constants.js","components/viewers/path-info.js","components/graphs/force-directed-graph.js","components/loaders/request.js","components/filters/preview.js","App.js","index.js"],"names":["ItemsBox","props","handleItemsFilterDelete","bind","handleItemsFilterClear","e","this","onItemsFilterDelete","itemsFilterID","target","getAttribute","onItemsFilterClear","boxContent","items","length","i","push","className","key","onClick","itemID","Component","SearchBar","handleSearchQueryChange","handleSearchBarReset","handleKeyDown","handleKeyUp","handleArrowUp","handleArrowDown","handleItemPressed","onSearchBarChange","value","itemFocused","paginateBy","currentPage","maxPage","onJumpToPageChange","onItemFocused","tail","itemFocusedCandidate","currentPageCandidate","mask","String","onItemPressed","keyCode","type","onChange","searchQuery","onKeyDown","onKeyUp","SortBar","handleFieldCLick","sortRules","parentElement","name","active","count","asc","matchIndex","onSortRulesChange","FilterContent","handleItemFocusedChange","handleJumpToPage","handleItemsFilterSelect","undefined","Number","itemName","onItemsFilterSelect","filterID","sort","a","b","weight","pageNumber","slice","processedItems","paginateItems","sortItems","rows","item","notHere","itemIdx","focused","pressed","itemPressed","onItemFocusedChange","id","prepareRows","statistics","ContentRow","highlightSearchQuery","modifiedSpan","substring","chunks","split","additionalClasses","join","onMouseEnter","title","toLocaleString","Paginator","handlePreviousPage","handleNextPage","handleFocusOut","onBlur","Statistics","shownFrom","shownTo","itemsShown","itemsTotal","ItemsFilter","state","handleItemFocused","handleSortRulesChange","onTrashCanClick","setState","document","getElementById","childNodes","pageInput","element","classList","contains","remove","add","ip","filteredItems","toLowerCase","indexOf","hideIPs","test","allItems","concatenatedItems","buffer","forEach","Math","ceil","filterItems","concatenateItems","calculateStatistics","calculateMaxPage","shownFilter","selectedItems","SearchQueryNavigation","prepareButtons","handleShownFilterChange","onShownFilterChange","buttons","itemsFilters","itemFilter","idx","ItemsQuery","remapItems","containers","getElementsByClassName","query","unshift","onQueryChange","aggregations","buckets","map","doc_count","IPv6","ipv6Items","ipv4Items","strikeQuery","TimeQuery","handleDateTimeChange","handleEndDateBlur","handleStartDateBlur","timeRange","start","end","newQuery","datetimeTo","datetimeFrom","endDate","startDate","moment","utc","clone","subtract","strikeData","dateFormat","timeFormat","pickerClassName","input","onEndDateBlur","onStartDateBlur","IPvQuery","onIPv4Clicked","onIPv6Clicked","toggleSelection","ipv6","Contents","handleSortFieldCLick","currentTarget","columnName","pathsCount","fieldName","_source","odd","abs","selectedPath","onItemClicked","colSpan","cellSpacing","cellPadding","paths","Path","highlightSearch","handleItemCLicked","index","src","dest","src_host","dest_host","src_site","dest_site","src_VO","dest_VO","src_production","dest_production","PathsTable","pathID","onPathSelected","onHopSelected","selectedHop","Set","Array","from","size","searchFields","k","j","filterPaths","countPaths","handleHideShow","onMouseDown","handleMouseDown","onMouseUp","handleMouseUp","reformAggregations","reformedItems","Object","keys","ReformAggregations","dispatchUrl","url","urlSearchParams","urlParams","URLSearchParams","mustConditions","JSON","parse","get","es_query","bool","must","unix","sources","sources_hosts","destinations","destinations_hosts","virtual_organisations","condition","range","timestamp","gte","lte","term","should","conditionTerms","terms","DispatchUrl","packUrl","srcShould","destShould","parameters","stringify","PackUrl","preparePathData","pathInfo","data","labels","datasets","label","backgroundColor","borderColor","borderWidth","outlierColor","padding","itemRadius","filter","path","filterWrongMeasurements","ttlsRtts","ttls","rtts","xCoords","rttsValues","values","rttsByTtls","col","row","PathChart","getOptions","higherZero","number","every","convertStats","stats","min","q1","median","q3","max","toFixed","event","pathNavigation","_model","tooltips","callbacks","tooltipItems","xLabel","boxplotLabel","hoveredOutlierIndex","violinLabel","chartElement","iconClassList","pathInfoContainer","chartHeight","clientHeight","restScreenHeight","getElementsByTagName","style","height","pathChartRef","pathChartData","options","ref","handleChartResize","legend","chartInstance","config","API_URL","ASNumberLabel","asnData","asn","localStorage","getItem","fetch","response","json","response_content","status","setItem","href","PathNode","isHovered","variablePart","nodeType","extraValue","handleEnter","onMouseLeave","handleLeave","PathHop","handleHopSelected","hopNumber","hopSelected","stdDev","PathInfo","pathInfoRef","React","createRef","pathViewerFragments","scrollBarRef","getPathFragments","pathChart","current","prevProps","prevState","snapshot","scrollTop","scrollHeight","elements","flag","scrollTo","top","behavior","pathInfoData","pathsStats","content","pathData","ttl","hop","offset","destNumber","console","log","pathFragments","shapes","SphereGeometry","Node","pathHash","getLabel","color","shape","Link","source","hopStats","completed","curvature","rotation","distance","getDistance","velocity","getVelocity","dist","exp","counter","PI","GraphData","nodes","links","nodesConnectionsCounter","node","link","calculateCurvature","calculateRotation","ForceDirectedGraph","graphData","graphRef","focusOnHop","prepareData","getLinkLabel","handleHopPressed","linkId","d3Force","responseData","hopPressed","refresh","position","distRatio","hypot","x","y","z","cameraPosition","hits","record","hops","addNode","previousNode","missedNode","addLink","jsonData","linkWidth","linkCurvature","d","linkCurveRotation","linkDirectionalArrowLength","linkDirectionalArrowRelPos","linkColor","linkDirectionalParticles","linkDirectionalParticleWidth","linkDirectionalParticleSpeed","nodeLabel","n","linkLabel","l","showNavInfo","onLinkClick","nodeThreeObject","Mesh","MeshBasicMaterial","RequestLoader","hidden","ItemsPreview","focusOnFilter","container","queryContainer","click","IPv6Preview","switchIPv","triggerRequest","setTimeout","TimePreview","focusDatetimeFrom","focusDatetimeTo","focusInput","toISOString","replace","FiltersPreview","itemsFiltersContent","App","currentUrl","interruptedUrl","pathTableData","graphVisualisation","threeDimensions","linksPower","showMissedHops","graphNavigation","queryContainerRef","preLoaderContainer","preLoaderErrors","loaderContainer","loaderErrors","handleQueryChange","handlePathSelected","getData","window","location","search","retry","Date","aggregations_response","aggregations_content","innerHTML","append","history","pushState","origin","alert","message","error","loader","then","res","confirm","ReactDOM","render"],"mappings":"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","file":"static/js/main.bf1b2c4d.chunk.js","sourcesContent":["import './css/items.css';\nimport '../../icons/iconmonstr-iconic-font-1.3.0/css/iconmonstr-iconic-font.min.css'\nimport React, { Component } from 'react';\nimport PerfectScrollbar from 'react-perfect-scrollbar'\nimport 'react-perfect-scrollbar/dist/css/styles.css';\n\n\nfunction IfIPv4(ip) {\n  return /^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(ip);\n\n}\n\nclass ItemsBox extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.handleItemsFilterDelete = this.handleItemsFilterDelete.bind(this);\n    this.handleItemsFilterClear = this.handleItemsFilterClear.bind(this);\n  }\n\n  handleItemsFilterDelete(e) {\n    this.props.onItemsFilterDelete(this.props.itemsFilterID, e.target.getAttribute(\"itemID\"))\n  }\n\n  handleItemsFilterClear() {\n    this.props.onItemsFilterClear(this.props.itemsFilterID)\n  }\n\n  render() {\n    let boxContent = [];\n    if (this.props.items.length) {\n      for (let i = 0; i < this.props.items.length; i++) {\n        boxContent.push(\n          <button\n            className={\"selected-item text-truncate\"}\n            key={\"btn-\" + this.props.items[i]}\n            onClick={this.handleItemsFilterDelete}\n            itemID={this.props.items[i]}\n          >\n            {this.props.items[i]}\n          </button>\n        )\n      }\n      return(\n        <div className={\"selected-items-box-wrapper\"}>\n          <div className={\"selected-items-box\"}>\n            <div className={\"selected-items-box-empty\"}>\n              <button onClick={this.handleItemsFilterClear}>\n                <i className=\"im im-x-mark-circle\"/>\n              </button>\n            </div>\n            <PerfectScrollbar>\n              <div className={\"item-box-scroll-content\"}>\n                {boxContent}\n              </div>\n            </PerfectScrollbar>\n          </div>\n        </div>\n      )\n    } else {\n      return (\n        <div className={\"selected-items-box-wrapper\"}>\n          <div className={\"selected-items-box\"}>\n            <div key={\"item-box-empty\"} className={\"no-data-container\"}>\n              <span className={\"no-data\"}>No items selected</span>\n            </div>\n          </div>\n        </div>\n      )\n    }\n  }\n}\n\nclass SearchBar extends Component {\n\n  constructor (props) {\n    super(props);\n\n    this.handleSearchQueryChange = this.handleSearchQueryChange.bind(this);\n    this.handleSearchBarReset = this.handleSearchBarReset.bind(this);\n    this.handleKeyDown = this.handleKeyDown.bind(this);\n    this.handleKeyUp = this.handleKeyUp.bind(this);\n    this.handleArrowUp = this.handleArrowUp.bind(this);\n    this.handleArrowDown = this.handleArrowDown.bind(this);\n    this.handleItemPressed = this.handleItemPressed.bind(this);\n  }\n\n  handleSearchQueryChange(e) {\n    this.props.onSearchBarChange(e.target.value)\n  }\n\n  handleSearchBarReset() {\n    this.props.onSearchBarChange(\"\")\n  }\n\n  handleArrowUp() {\n    const { itemFocused, paginateBy, currentPage, maxPage, onJumpToPageChange, onItemFocused, tail } = this.props;\n    let itemFocusedCandidate = itemFocused;\n    let currentPageCandidate = {\n      value: 1,\n      mask: \"1\"\n    };\n\n    if (itemFocused > 0) {\n      itemFocusedCandidate --;\n      onItemFocused(itemFocusedCandidate)\n    } else {\n      if (currentPage.value > 1) {\n        currentPageCandidate.value = currentPage.value - 1;\n        currentPageCandidate.mask = String(currentPage.value - 1);\n        onJumpToPageChange(null, currentPageCandidate, maxPage);\n        onItemFocused(paginateBy - 1)\n      } else {\n        currentPageCandidate.value = maxPage;\n        currentPageCandidate.mask = String(maxPage);\n        onJumpToPageChange(null, currentPageCandidate, maxPage);\n        onItemFocused(tail - 1)\n      }\n    }\n  }\n\n  handleArrowDown() {\n    const { itemFocused, paginateBy, currentPage, maxPage, onJumpToPageChange, onItemFocused, tail } = this.props;\n    let itemFocusedCandidate = itemFocused;\n    let currentPageCandidate = {\n      value: 1,\n      mask: \"1\"\n    };\n\n    if (currentPage.value < maxPage) {\n      if (itemFocused < paginateBy - 1) {\n        itemFocusedCandidate ++;\n        onItemFocused(itemFocusedCandidate)\n      } else {\n        currentPageCandidate.value = currentPage.value + 1;\n        currentPageCandidate.mask = String(currentPage.value + 1);\n        onJumpToPageChange(null, currentPageCandidate, maxPage);\n        onItemFocused(0)\n      }\n    } else {\n      if (itemFocused < tail - 1) {\n        itemFocusedCandidate ++;\n        onItemFocused(itemFocusedCandidate)\n      } else {\n        currentPageCandidate.value = 1;\n        currentPageCandidate.mask = String(1);\n        onJumpToPageChange(null, currentPageCandidate, maxPage);\n        onItemFocused(0)\n      }\n    }\n\n  }\n\n  handleItemPressed() {\n    this.props.onItemPressed(this.props.itemFocused)\n  }\n\n  handleKeyDown(e) {\n    if (e.keyCode === 38) {\n      this.handleArrowUp()\n    } else if (e.keyCode === 40) {\n      this.handleArrowDown()\n    } else if (e.keyCode === 13) {\n      this.handleItemPressed()\n    }\n  }\n\n  handleKeyUp(e) {\n    if (e.keyCode === 13) {\n      this.props.onItemPressed(null)\n    }\n  }\n\n  render () {\n    return (\n      <div className={\"items-filter-searchbar\"}>\n        <span>Search</span>\n        <input\n          className={\"items-filter-searchbar-input\"}\n          type=\"text\"\n          onChange={this.handleSearchQueryChange}\n          value={this.props.searchQuery}\n          onKeyDown={this.handleKeyDown}\n          onKeyUp={this.handleKeyUp}\n        />\n        <button onClick={this.handleSearchBarReset} className={\"reset-searchbar-btn\"}>\n          <i className=\"im im-x-mark-circle\"/>\n        </button>\n      </div>\n    )\n  }\n}\n\nclass SortBar extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.handleFieldCLick = this.handleFieldCLick.bind(this)\n  }\n\n  handleFieldCLick(e) {\n    const sortRules = this.props.sortRules;\n    if (e.target.parentElement.getAttribute(\"itemID\") === \"name\") {\n      sortRules.name.active = true;\n      sortRules.count.active = false;\n      sortRules.name.asc = !this.props.sortRules.name.asc;\n    } else {\n      sortRules.count.active = true;\n      sortRules.name.active = false;\n      sortRules.count.asc = !this.props.sortRules.count.asc;\n    }\n\n    sortRules.matchIndex.active = false;\n    this.props.onSortRulesChange(sortRules)\n  }\n\n  render() {\n    return (\n      <div className={\"items-filter-sortbar\"}>\n        <button onClick={this.handleFieldCLick} itemID={\"name\"} className={\"items-filter-sortbar-field name\" + (this.props.sortRules.name.asc ? \"\": \" rotated\")}>\n          <h5 className={this.props.sortRules.name.active ? \"active\": \"\"}>Name</h5>\n          <span><i className=\"im im-arrow-up\"/></span>\n        </button>\n        <button onClick={this.handleFieldCLick} itemID={\"count\"} className={\"items-filter-sortbar-field count\"  + (this.props.sortRules.count.asc ? \"\": \" rotated\")}>\n          <h5 className={this.props.sortRules.count.active ? \"active\": \"\"}>Count</h5>\n          <span><i className=\"im im-arrow-up\"/></span>\n        </button>\n      </div>\n    )\n  }\n}\n\nclass FilterContent extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleItemFocusedChange = this.handleItemFocusedChange.bind(this);\n    this.handleJumpToPage = this.handleJumpToPage.bind(this);\n    this.handleItemsFilterSelect = this.handleItemsFilterSelect.bind(this);\n  }\n\n  handleJumpToPage(currentPage) {\n    this.props.onJumpToPageChange(currentPage)\n  }\n\n  handleItemFocusedChange(itemID) {\n    if (itemID !== undefined) {\n      this.props.onItemFocused(Number(itemID))\n    }\n  }\n\n  handleItemsFilterSelect(itemName) {\n    this.props.onItemsFilterSelect(this.props.filterID, itemName)\n  }\n\n  sortItems(items) {\n\n    if (this.props.sortRules.matchIndex.active) {\n      if (this.props.sortRules.matchIndex.asc) {\n        items.sort((a, b) => (a.count > b.count ? 1: -1));\n        items.sort((a, b) => (a.weight > b.weight ? 1: -1))\n      } else {\n        items.sort((a, b) => (a.count > b.count ? 1: -1));\n        items.sort((a, b) => (a.weight < b.weight ? 1: -1))\n      }\n\n      return items\n    }\n\n    if (this.props.sortRules.name.active) {\n      if (this.props.sortRules.name.asc) {\n        items.sort((a, b) => (a.count < b.count ? 1: -1));\n        items.sort((a, b) => (a.name > b.name ? 1: -1))\n      } else {\n        items.sort((a, b) => (a.count < b.count ? 1: -1));\n        items.sort((a, b) => (a.name < b.name ? 1: -1))\n      }\n    } else {\n      if (this.props.sortRules.count.asc) {\n        items.sort((a, b) => (a.name > b.name ? 1: -1));\n        items.sort((a, b) => (a.count > b.count ? 1: -1))\n      } else {\n        items.sort((a, b) => (a.name > b.name ? 1: -1));\n        items.sort((a, b) => (a.count < b.count ? 1: -1))\n      }\n    }\n\n    return items\n  }\n\n  paginateItems(items) {\n    let pageNumber = this.props.currentPage.value;\n    --pageNumber;\n    return items.slice(pageNumber * this.props.paginateBy, (pageNumber + 1) * this.props.paginateBy);\n  }\n\n  prepareRows(items) {\n    let processedItems = this.paginateItems(this.sortItems(items));\n    let rows = [];\n\n    if (items.length) {\n      for (let i = 0; i < processedItems.length; i++) {\n        let item = processedItems[i];\n        rows.push(\n          <ContentRow\n            key={item.name}\n            name={item.name}\n            count={item.count}\n            notHere={item.notHere}\n            weight={item.weight}\n            searchQuery={this.props.searchQuery}\n            itemIdx={i}\n            focused={i === this.props.itemFocused}\n            pressed={i === this.props.itemPressed}\n            onItemsFilterSelect={this.handleItemsFilterSelect}\n            onItemFocusedChange={this.handleItemFocusedChange}\n          />\n        )\n      }\n    } else {\n      rows = [<li key={\"no-data\"} className={\"filter-item no-data\"}><span>No data</span></li>]\n    }\n\n    return rows\n  }\n\n  render() {\n    return(\n      <div className={\"\"}>\n        <div className={\"filter-content\"}>\n          <ul id={\"filter-items-shown-\" + this.props.filterID} className={\"filter-content-list\"}>\n            {this.prepareRows(this.props.items)}\n          </ul>\n        </div>\n        <Paginator\n          currentPage={this.props.currentPage}\n          maxPage={this.props.maxPage}\n          onJumpToPageChange={this.props.onJumpToPageChange}\n        />\n        <Statistics statistics={this.props.statistics}/>\n      </div>\n    )\n  }\n}\n\nclass ContentRow extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleItemFocusedChange = this.handleItemFocusedChange.bind(this);\n    this.handleItemsFilterSelect = this.handleItemsFilterSelect.bind(this);\n    this.highlightSearchQuery = this.highlightSearchQuery.bind(this);\n  }\n\n  handleItemFocusedChange() {\n    this.props.onItemFocusedChange(this.props.itemIdx)\n  }\n\n  handleItemsFilterSelect() {\n    this.props.onItemsFilterSelect(this.props.name)\n  }\n\n  highlightSearchQuery() {\n    if (this.props.searchQuery.length) {\n      let modifiedSpan = [];\n      let name = this.props.name;\n      let substring = this.props.name.slice(this.props.weight, this.props.weight + this.props.searchQuery.length);\n      let chunks = name.split(substring);\n\n      for (let i = 0; i < chunks.length; i++) {\n        modifiedSpan.push(chunks[i]);\n        if (i + 1 !== chunks.length) {\n          modifiedSpan.push(<span key={i + substring} className={\"search-query-highlight\"}>{substring}</span>)\n        }\n      }\n\n      return modifiedSpan\n    } else {\n      return <span>{this.props.name}</span>\n    }\n  }\n\n  render() {\n    let additionalClasses = [\n      this.props.focused ? \"focused\": \"\",\n      this.props.pressed ? \"pressed\": \"\",\n      this.props.notHere ? \"notHere\": \"\"\n    ].join(\" \");\n\n    return(\n      <li\n        key={this.props.name}\n        className={\"filter-item\" + additionalClasses ? \" \" + additionalClasses: \"\"}\n        value={this.props.name}\n        onClick={this.handleItemsFilterSelect}\n        onMouseEnter={this.handleItemFocusedChange}\n      >\n        <div className={\"filter-item-name text-truncate\"} title={this.props.name}>\n          <span>{this.highlightSearchQuery()}</span>\n        </div>\n        <div className={\"filter-name-count text-truncate\"}>\n          <span>{this.props.count.toLocaleString()}</span>\n        </div>\n      </li>\n    )\n  }\n}\n\nclass Paginator extends Component {\n  constructor (props) {\n    super(props);\n\n    this.handlePreviousPage = this.handlePreviousPage.bind(this);\n    this.handleJumpToPage = this.handleJumpToPage.bind(this);\n    this.handleNextPage = this.handleNextPage.bind(this);\n    this.handleFocusOut = this.handleFocusOut.bind(this)\n  }\n\n  handlePreviousPage() {\n    let currentPage = {\n      value: this.props.currentPage.value - 1,\n      mask: this.props.currentPage.value - 1,\n    };\n    this.handleJumpToPage(null, currentPage)\n  }\n\n  handleJumpToPage(e, currentPage) {\n    this.props.onJumpToPageChange(e, currentPage, this.props.maxPage)\n  }\n\n  handleNextPage() {\n    let currentPage = {\n      value: this.props.currentPage.value + 1,\n      mask: this.props.currentPage.value + 1,\n    };\n    this.handleJumpToPage(null, currentPage)\n  }\n\n  handleFocusOut() {\n    const currentPage = this.props.currentPage;\n    currentPage.mask = currentPage.value;\n\n    this.handleJumpToPage(null, currentPage)\n  }\n\n  render() {\n    return (\n      <div className={\"items-filter-paginator\"}>\n        <button onClick={this.handlePreviousPage}><i className={\"im im-angle-left\"}/></button>\n        <div className={\"page-numbers\"}>\n          <input\n            className={\"items-filter-paginator-input\"}\n            onChange={this.handleJumpToPage}\n            onBlur={this.handleFocusOut}\n            value={this.props.currentPage.mask}\n            type=\"text\"/>\n          <span>/</span>\n          <span>{this.props.maxPage}</span>\n        </div>\n        <button onClick={this.handleNextPage}><i className={\"im im-angle-right\"}/></button>\n      </div>\n    )\n  }\n}\n\nclass Statistics extends Component {\n  render() {\n    return (\n      <div className={\"items-filter-statistics\"}>\n        <p>\n          <span>Showing </span>\n          <span>{this.props.statistics.shownFrom} </span>\n          <span>to </span>\n          <span>{this.props.statistics.shownTo} </span>\n          <span>of </span>\n          <span>{this.props.statistics.itemsShown} </span>\n          <span>({this.props.statistics.itemsTotal}) </span>\n          <span>records</span>\n        </p>\n      </div>\n    )\n  }\n}\n\nclass ItemsFilter extends Component {\n  constructor (props) {\n    super(props);\n\n    this.state = {\n      searchQuery: \"\",\n      currentPage: {\n        value: 1,\n        mask: \"1\"\n      },\n      paginateBy: 10,\n      sortRules: {\n        name: {\n          asc: true,\n          active: false\n        },\n        count: {\n          asc: false,\n          active: true\n        },\n        matchIndex: {\n          asc:true,\n          active: false\n        }\n      },\n      itemFocused: 0,\n      itemPressed: null\n    };\n\n    this.handleItemFocused = this.handleItemFocused.bind(this);\n    this.handleItemPressed = this.handleItemPressed.bind(this);\n    this.handleJumpToPage = this.handleJumpToPage.bind(this);\n    this.handleSortRulesChange = this.handleSortRulesChange.bind(this);\n    this.handleSearchQueryChange = this.handleSearchQueryChange.bind(this);\n    this.onTrashCanClick = this.onTrashCanClick.bind(this);\n  }\n\n  handleItemFocused(itemFocused) {\n    this.setState({itemFocused})\n  }\n\n  handleItemPressed(itemPressed) {\n    if (itemPressed !== null) {\n      const value = document.getElementById(\"filter-items-shown-\" + this.props.filterID)\n        .childNodes[itemPressed].getAttribute(\"value\");\n\n      this.props.onItemsFilterSelect(this.props.filterID, value)\n    }\n\n    this.setState({itemPressed})\n  }\n\n  handleJumpToPage(e, currentPage, maxPage) {\n    if (e !== null) {\n      let pageInput = e.target.value;\n      if (pageInput === \"\") {\n        currentPage = {\n          value: this.state.currentPage.value,\n          mask: pageInput,\n        };\n      } else {\n        currentPage = {\n          value: Number(pageInput),\n          mask: pageInput\n        }\n      }\n    }\n    if ((0 === currentPage.value) || (currentPage.value > maxPage)) {\n      if (0 === currentPage.value) {\n        currentPage.value = maxPage;\n        currentPage.mask = String(maxPage)\n      }\n      if (currentPage.value > maxPage) {\n        currentPage.value = 1;\n        currentPage.mask = String(1)\n      }\n    }\n\n    this.setState({currentPage})\n  }\n\n  handleSortRulesChange(sortRules) {\n    this.setState({sortRules})\n  }\n\n  handleSearchQueryChange(searchQuery) {\n    const currentPage = {\n      value: 1,\n      mask: \"1\"\n    };\n\n    let sortRules = this.state.sortRules;\n    sortRules.matchIndex.active = !!searchQuery.length;\n\n    this.setState({\n      searchQuery,\n      currentPage,\n      sortRules\n    })\n  }\n\n  onTrashCanClick(e) {\n    const element = e.target.parentElement;\n    if (element.classList.contains(\"rotated\")) {\n      element.classList.remove(\"rotated\");\n    } else {\n      element.classList.add(\"rotated\");\n    }\n\n    this.props.onItemsFilterClear(this.props.filterID);\n\n    this.setState({\n      searchQuery: \"\",\n      currentPage: {\n        value: 1,\n        mask: \"1\"\n      },\n      sortRules: {\n        name: {\n          asc: true,\n          active: false\n        },\n        count: {\n          asc: false,\n          active: true\n        },\n        matchIndex: {\n          asc:false,\n          active: false\n        }\n      },\n      itemFocused: 0,\n      itemPressed: null\n    })\n  }\n\n  filterItems(items) {\n    let filteredItems = [];\n\n    if (this.state.searchQuery) {\n      for (let i = 0; i < items.length; i++) {\n        let item = items[i];\n        let weight = item.name.toLowerCase().indexOf(this.state.searchQuery);\n        if (weight >= 0) {\n          item.weight = weight;\n          filteredItems.push(item)\n        }\n      }\n    } else {\n      if (this.props.hideIPs) {\n        for (let i = 0; i < items.length; i++) {\n          let item = items[i];\n          if (!IfIPv4(item.name)) {\n            filteredItems.push(item)\n          }\n        }\n      } else {\n        filteredItems = items\n      }\n    }\n\n    return filteredItems\n  }\n\n  concatenateItems(items, allItems) {\n    const concatenatedItems = items;\n    const buffer = [];\n\n    items.forEach(item => {\n      buffer.push(item.name)\n    })\n\n    allItems.forEach(item => {\n      if (buffer.indexOf(item.name) < 0) {\n        item.notHere = true\n        concatenatedItems.push(item)\n      }\n    })\n\n    return concatenatedItems\n  }\n\n  calculateStatistics(items) {\n    if (items.length === 0) {\n      return {\n        itemsShown: items.length,\n        itemsTotal: this.props.allItems.length,\n        shownFrom: 0,\n        shownTo: 0\n      }\n    } else {\n      const shownFrom = (this.state.currentPage.value - 1) * this.state.paginateBy + 1;\n      return {\n        itemsShown: items.length,\n        itemsTotal: this.props.allItems.length,\n        shownFrom: shownFrom,\n        shownTo: shownFrom + this.state.paginateBy > items.length ? items.length: shownFrom + this.state.paginateBy - 1\n      };\n    }\n  }\n\n  calculateMaxPage(items) {\n    let maxPage = 1;\n    if (items.length) {\n      maxPage = Math.ceil(items.length/this.state.paginateBy);\n    }\n    return maxPage\n  }\n\n  render() {\n    let items = this.props.items;\n    if (items.length) {\n      items = this.filterItems(items);\n    }\n\n    let allItems = this.props.allItems;\n    if (allItems.length) {\n      allItems = this.filterItems(allItems);\n    }\n\n    items = this.concatenateItems(items, allItems)\n\n    const statistics = this.calculateStatistics(items);\n    const maxPage = this.calculateMaxPage(items);\n\n    return (\n      <div className={\"items-filter\" + (this.props.shownFilter ? \" shown\": \"\")}>\n        <div className={\"items-filter-wrapper\"}>\n          <div className={\"items-filter-header\"}>\n            <div className={\"items-filter-reset\"}>\n              <button onClick={this.onTrashCanClick}><i className=\"im im-trash-can\"/></button>\n            </div>\n            <div className={\"items-filter-title\"}>\n              <h3>{this.props.title}</h3>\n            </div>\n          </div>\n          <div className={\"items-filter-body\"}>\n            <ItemsBox\n                items={this.props.selectedItems}\n                onItemsFilterDelete={this.props.onItemsFilterDelete}\n                itemsFilterID={this.props.filterID}\n                onItemsFilterClear={this.props.onItemsFilterClear}\n            />\n            <SearchBar\n                searchQuery={this.state.searchQuery}\n                onSearchBarChange={this.handleSearchQueryChange}\n                itemFocused={this.state.itemFocused}\n                paginateBy={this.state.paginateBy}\n                currentPage={this.state.currentPage}\n                maxPage={maxPage}\n                tail={items.length%this.state.paginateBy}\n                onJumpToPageChange={this.handleJumpToPage}\n                onItemFocused={this.handleItemFocused}\n                onItemPressed={this.handleItemPressed}\n            />\n            <SortBar\n                sortRules={this.state.sortRules}\n                onSortRulesChange={this.handleSortRulesChange}\n            />\n            <FilterContent\n                filterID={this.props.filterID}\n                searchQuery={this.state.searchQuery}\n                items={items}\n                allItems={allItems}\n                currentPage={this.state.currentPage}\n                onJumpToPageChange={this.handleJumpToPage}\n                onItemFocused={this.handleItemFocused}\n                itemFocused={this.state.itemFocused}\n                itemPressed={this.state.itemPressed}\n                onItemsFilterSelect={this.props.onItemsFilterSelect}\n                statistics={statistics}\n                maxPage={maxPage}\n                sortRules={this.state.sortRules}\n                paginateBy={this.state.paginateBy}\n            />\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default ItemsFilter;","import ItemsFilter from \"./items\";\nimport './css/items-query.css';\nimport React, {Component} from 'react';\n\nclass SearchQueryNavigation extends Component {\n  constructor(props) {\n    super(props);\n\n    this.prepareButtons = this.prepareButtons.bind(this);\n    this.handleShownFilterChange = this.handleShownFilterChange.bind(this)\n  }\n\n  handleShownFilterChange(e) {\n    const shownFilter = Number(e.target.getAttribute(\"itemID\"));\n    this.props.onShownFilterChange(shownFilter)\n  }\n\n  prepareButtons() {\n    const buttons = [];\n    this.props.itemsFilters.forEach((itemFilter, idx) => {\n      buttons.push(\n        <button\n          id={`${itemFilter.id}-switcher`}\n          key={itemFilter.title}\n          className={\"search-query-item\" + (this.props.shownFilter === idx ? \" active\" : \"\")}\n          onClick={this.handleShownFilterChange}\n          itemID={idx}\n        >\n          {itemFilter.title}\n        </button>\n      )\n    });\n\n    return buttons\n  }\n\n  render() {\n    const buttons = this.prepareButtons();\n\n    return (\n      <div className={\"search-query-nav\"}>\n        {buttons}\n      </div>\n    )\n  }\n}\n\nclass ItemsQuery extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      shownFilter: 1\n    };\n\n    this.handleShownFilterChange = this.handleShownFilterChange.bind(this);\n    this.remapItems = this.remapItems.bind(this);\n    this.handleItemsFilterSelect = this.handleItemsFilterSelect.bind(this);\n    this.handleItemsFilterDelete = this.handleItemsFilterDelete.bind(this);\n    this.handleItemsFilterClear = this.handleItemsFilterClear.bind(this);\n  }\n\n  handleHideShow() {\n    const containers = document.getElementsByClassName(\"search-query-container\");\n    for (let i = 0; i < containers.length; i++) {\n      const classList = containers[i].classList;\n      if (classList.contains(\"opened\")) {\n        classList.remove(\"opened\")\n      } else {\n        classList.add(\"opened\")\n      }\n    }\n  }\n\n  handleShownFilterChange(shownFilter) {\n    this.setState({shownFilter})\n  }\n\n  handleItemsFilterSelect(itemsFilterID, value) {\n    let query = this.props.query;\n    if (query[itemsFilterID].indexOf(value) < 0) {\n      query[itemsFilterID].unshift(value);\n\n      this.props.onQueryChange(query)\n    }\n  }\n\n  handleItemsFilterDelete(itemsFilterID, value) {\n    let query = this.props.query;\n    let selectedItems = [];\n\n    query[itemsFilterID].forEach(item => {\n      if (String(item) !== String(value)) {\n        selectedItems.push(item)\n      }\n    });\n\n    query[itemsFilterID] = selectedItems;\n    this.props.onQueryChange(query)\n  }\n\n  handleItemsFilterClear(itemsFilterID) {\n    let query = this.props.query;\n    query[itemsFilterID] = [];\n    this.props.onQueryChange(query)\n  }\n\n  remapItems(itemsFilterID) {\n    return this.props.aggregations[itemsFilterID].buckets.map(item => {\n      return {name: item.key, count: item.doc_count}\n    })\n  }\n\n  render() {\n    let itemsFilters = [];\n    this.props.itemsFilters.forEach((itemFilter, idx) => {\n      itemsFilters.push(\n        <ItemsFilter\n          key={itemFilter.id}\n          title={itemFilter.title}\n          filterID={itemFilter.id}\n          hideIPs={itemFilter.hideIPs}\n          shownFilter={this.state.shownFilter === idx}\n          items={this.remapItems(itemFilter.id)}\n          allItems={this.props.query.IPv6 ? this.props.ipv6Items[itemFilter.id]: this.props.ipv4Items[itemFilter.id]}\n          selectedItems={this.props.query[itemFilter.id]}\n          onItemsFilterSelect={this.handleItemsFilterSelect}\n          onItemsFilterDelete={this.handleItemsFilterDelete}\n          onItemsFilterClear={this.handleItemsFilterClear}\n        />\n      )\n    });\n\n    return (\n      <div id={\"search-query\"} className={\"search-query-container opened\"}>\n        <SearchQueryNavigation\n          itemsFilters={this.props.itemsFilters}\n          shownFilter={this.state.shownFilter}\n          onShownFilterChange={this.handleShownFilterChange}\n        />\n        <div className={\"search-query\"} onMouseEnter={this.props.strikeQuery}>\n          {itemsFilters}\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default ItemsQuery;\n","import DatetimeRangePicker from 'react-datetime-range-picker';\nimport './css/time-query.css';\nimport React, {Component} from 'react';\nimport moment from \"moment\";\n\n\nclass TimeQuery extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleDateTimeChange = this.handleDateTimeChange.bind(this);\n    this.handleEndDateBlur = this.handleEndDateBlur.bind(this);\n    this.handleStartDateBlur = this.handleStartDateBlur.bind(this);\n    this.onTrashCanClick = this.onTrashCanClick.bind(this);\n  }\n\n  handleDateTimeChange(timeRange) {\n    const {start, end} = timeRange;\n\n    let newQuery = {...this.props.query};\n    newQuery.datetimeTo = end;\n    newQuery.datetimeFrom = start;\n\n    this.props.onQueryChange(newQuery)\n  }\n\n  handleEndDateBlur(endDate) {\n    if (endDate < this.props.query.datetimeFrom) {\n      let newQuery = {...this.props.query};\n      newQuery.datetimeTo = this.props.query.datetimeFrom;\n      newQuery.datetimeFrom = endDate;\n\n      this.props.onQueryChange(newQuery)\n    }\n  }\n\n  handleStartDateBlur(startDate) {\n    if (startDate > this.props.query.datetimeTo) {\n      let newQuery = {...this.props.query};\n      newQuery.datetimeTo = startDate;\n      newQuery.datetimeFrom = this.props.query.datetimeTo;\n\n      this.props.onQueryChange(newQuery)\n    }\n  }\n\n  onTrashCanClick(e) {\n    const element = e.target.parentElement;\n    if (element.classList.contains(\"rotated\")) {\n      element.classList.remove(\"rotated\");\n    } else {\n      element.classList.add(\"rotated\");\n    }\n\n    const datetimeTo = moment().utc();\n    let newQuery = {...this.props.query};\n    newQuery.datetimeTo = datetimeTo;\n    newQuery.datetimeFrom = datetimeTo.clone().subtract(1, \"minutes\");\n    this.props.onQueryChange(newQuery)\n  }\n\n  render() {\n    const {strikeData} = this.props;\n\n    return (\n      <div id={\"time-query\"} className={\"search-query-container opened\"} onMouseEnter={strikeData}>\n        <div className={\"time-query\"}>\n          <div className={\"time-query-wrapper\"}>\n            <div>\n              <div className={\"items-filter-header\"}>\n                <div className={\"items-filter-reset\"}>\n                  <button onClick={this.onTrashCanClick}><i className=\"im im-trash-can\"/></button>\n                </div>\n                <div className={\"items-filter-title\"}>\n                  <h3>Time range</h3>\n                </div>\n              </div>\n              <div>\n                <div className={\"time-query-labels\"}>\n                  <div>\n                    <span>from:</span>\n                  </div>\n                  <div>\n                    <span>to:</span>\n                  </div>\n                </div>\n                <DatetimeRangePicker\n                  dateFormat={\"YYYY-MM-DD\"}\n                  timeFormat={\"H:mm:ss\"}\n                  pickerClassName={\"datetime-picker\"}\n                  startDate={this.props.query.datetimeFrom}\n                  endDate={this.props.query.datetimeTo}\n                  input={true}\n                  utc={true}\n                  onChange={this.handleDateTimeChange}\n                  onEndDateBlur={this.handleEndDateBlur}\n                  onStartDateBlur={this.handleStartDateBlur}\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default TimeQuery;\n","import './css/ipv-query.css';\nimport React, {Component} from 'react';\n\n\nclass IPvQuery extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onIPv4Clicked = this.onIPv4Clicked.bind(this);\n    this.onIPv6Clicked = this.onIPv6Clicked.bind(this);\n    this.toggleSelection = this.toggleSelection.bind(this);\n    this.onTrashCanClick = this.onTrashCanClick.bind(this);\n  }\n\n  onTrashCanClick(e) {\n    const element = e.target.parentElement;\n    if (element.classList.contains(\"rotated\")) {\n      element.classList.remove(\"rotated\");\n    } else {\n      element.classList.add(\"rotated\");\n    }\n\n    this.toggleSelection(false)\n  }\n\n  toggleSelection(ipv6) {\n    let newQuery = {...this.props.query};\n    newQuery.IPv6 = ipv6;\n    this.props.onQueryChange(newQuery)\n  }\n\n  onIPv4Clicked() {\n    this.toggleSelection(false)\n  }\n\n  onIPv6Clicked() {\n    this.toggleSelection(true)\n  }\n\n  render() {\n    const { IPv6 } = this.props.query;\n\n    return (\n      <div id={\"ipv-query\"} className={\"search-query-container opened\"} onMouseEnter={this.props.strikeQuery}>\n        <div className={\"ipv-query\"}>\n          <div className={\"ipv-query-wrapper\"}>\n            <div>\n              <div className={\"items-filter-header\"}>\n                <div className={\"items-filter-reset\"}>\n                  <button onClick={this.onTrashCanClick}><i className=\"im im-trash-can\"/></button>\n                </div>\n                <div className={\"items-filter-title\"}>\n                  <h3>IP version</h3>\n                </div>\n              </div>\n              <div className={\"ipv-content\"}>\n                <div className={\"ipv-names\"}>\n                  <div className={\"ipv-name\"}>\n                    <span>IPv4</span>\n                  </div>\n                  <div className={\"ipv-name\"}>\n                    <span>IPv6</span>\n                  </div>\n                </div>\n                <div className={\"ipv-selections\"}>\n                  <div id={\"ipv4-selection\"} className={\"ipv-selection ipv4\" + (IPv6 ? \" hidden\": \" active\")} onClick={this.onIPv4Clicked}>\n                    <div className={\"selection-indicator\"}>selected</div>\n                  </div>\n                  <div id={\"ipv6-selection\"} className={\"ipv-selection ipv6\" + (IPv6 ? \" active\": \" hidden\")} onClick={this.onIPv6Clicked}>\n                    <div className={\"selection-indicator\"}>selected</div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default IPvQuery;","import './css/paths-table.css';\nimport React, {Component} from 'react';\n\n\nclass SearchBar extends Component {\n\n  constructor (props) {\n    super(props);\n\n    this.handleSearchQueryChange = this.handleSearchQueryChange.bind(this);\n    this.handleSearchBarReset = this.handleSearchBarReset.bind(this);\n    this.handleKeyDown = this.handleKeyDown.bind(this);\n    this.handleKeyUp = this.handleKeyUp.bind(this);\n    this.handleArrowUp = this.handleArrowUp.bind(this);\n    this.handleArrowDown = this.handleArrowDown.bind(this);\n    this.handleItemPressed = this.handleItemPressed.bind(this);\n  }\n\n  handleSearchQueryChange(e) {\n    this.props.onSearchBarChange(e.target.value)\n  }\n\n  handleSearchBarReset() {\n    this.props.onSearchBarChange(\"\")\n  }\n\n  handleArrowUp() {\n    const { itemFocused, paginateBy, currentPage, maxPage, onJumpToPageChange, onItemFocused, tail } = this.props;\n    let itemFocusedCandidate = itemFocused;\n    let currentPageCandidate = {\n      value: 1,\n      mask: \"1\"\n    };\n\n    if (itemFocused > 0) {\n      itemFocusedCandidate --;\n      onItemFocused(itemFocusedCandidate)\n    } else {\n      if (currentPage.value > 1) {\n        currentPageCandidate.value = currentPage.value - 1;\n        currentPageCandidate.mask = String(currentPage.value - 1);\n        onJumpToPageChange(null, currentPageCandidate, maxPage);\n        onItemFocused(paginateBy - 1)\n      } else {\n        currentPageCandidate.value = maxPage;\n        currentPageCandidate.mask = String(maxPage);\n        onJumpToPageChange(null, currentPageCandidate, maxPage);\n        onItemFocused(tail - 1)\n      }\n    }\n  }\n\n  handleArrowDown() {\n    const { itemFocused, paginateBy, currentPage, maxPage, onJumpToPageChange, onItemFocused, tail } = this.props;\n    let itemFocusedCandidate = itemFocused;\n    let currentPageCandidate = {\n      value: 1,\n      mask: \"1\"\n    };\n\n    if (currentPage.value < maxPage) {\n      if (itemFocused < paginateBy - 1) {\n        itemFocusedCandidate ++;\n        onItemFocused(itemFocusedCandidate)\n      } else {\n        currentPageCandidate.value = currentPage.value + 1;\n        currentPageCandidate.mask = String(currentPage.value + 1);\n        onJumpToPageChange(null, currentPageCandidate, maxPage);\n        onItemFocused(0)\n      }\n    } else {\n      if (itemFocused < tail - 1) {\n        itemFocusedCandidate ++;\n        onItemFocused(itemFocusedCandidate)\n      } else {\n        currentPageCandidate.value = 1;\n        currentPageCandidate.mask = String(1);\n        onJumpToPageChange(null, currentPageCandidate, maxPage);\n        onItemFocused(0)\n      }\n    }\n\n  }\n\n  handleItemPressed() {\n    this.props.onItemPressed(this.props.itemFocused)\n  }\n\n  handleKeyDown(e) {\n    if (e.keyCode === 38) {\n      this.handleArrowUp()\n    } else if (e.keyCode === 40) {\n      this.handleArrowDown()\n    } else if (e.keyCode === 13) {\n      this.handleItemPressed()\n    }\n  }\n\n  handleKeyUp(e) {\n    if (e.keyCode === 13) {\n      this.props.onItemPressed(null)\n    }\n  }\n\n  render () {\n    return (\n      <div className={\"items-filter-searchbar\"}>\n        <span>Search</span>\n        <input\n          className={\"items-filter-searchbar-input\"}\n          type=\"text\"\n          onChange={this.handleSearchQueryChange}\n          value={this.props.searchQuery}\n          onKeyDown={this.handleKeyDown}\n          onKeyUp={this.handleKeyUp}\n        />\n        <button onClick={this.handleSearchBarReset} className={\"reset-searchbar-btn\"}>\n          <i className=\"im im-x-mark-circle\"/>\n        </button>\n      </div>\n    )\n  }\n}\n\nclass Statistics extends Component {\n  render() {\n    return (\n      <div className={\"items-filter-statistics\"}>\n        <p>\n          <span>Showing </span>\n          <span>{this.props.statistics.shownFrom} </span>\n          <span>to </span>\n          <span>{this.props.statistics.shownTo} </span>\n          <span>of </span>\n          <span>{this.props.statistics.itemsShown} </span>\n          <span>({this.props.statistics.itemsTotal}) </span>\n          <span>records</span>\n        </p>\n      </div>\n    )\n  }\n}\n\nclass Paginator extends Component {\n  constructor (props) {\n    super(props);\n\n    this.handlePreviousPage = this.handlePreviousPage.bind(this);\n    this.handleJumpToPage = this.handleJumpToPage.bind(this);\n    this.handleNextPage = this.handleNextPage.bind(this);\n    this.handleFocusOut = this.handleFocusOut.bind(this)\n  }\n\n  handlePreviousPage() {\n    let currentPage = {\n      value: this.props.currentPage.value - 1,\n      mask: this.props.currentPage.value - 1,\n    };\n    this.handleJumpToPage(null, currentPage)\n  }\n\n  handleJumpToPage(e, currentPage) {\n    this.props.onJumpToPageChange(e, currentPage, this.props.maxPage)\n  }\n\n  handleNextPage() {\n    let currentPage = {\n      value: this.props.currentPage.value + 1,\n      mask: this.props.currentPage.value + 1,\n    };\n    this.handleJumpToPage(null, currentPage)\n  }\n\n  handleFocusOut() {\n    const currentPage = this.props.currentPage;\n    currentPage.mask = currentPage.value;\n\n    this.handleJumpToPage(null, currentPage)\n  }\n\n  render() {\n    return (\n      <div className={\"paths-table-paginator\"}>\n        <div className={\"empty\"}/>\n        <button onClick={this.handlePreviousPage}><i className={\"im im-angle-left\"}/></button>\n        <div className={\"page-numbers\"}>\n          <input\n            className={\"items-filter-paginator-input\"}\n            onChange={this.handleJumpToPage}\n            onBlur={this.handleFocusOut}\n            value={this.props.currentPage.mask}\n            type=\"text\"/>\n          <span>/</span>\n          <span>{this.props.maxPage}</span>\n        </div>\n        <button onClick={this.handleNextPage}><i className={\"im im-angle-right\"}/></button>\n        <div className={\"empty\"}/>\n      </div>\n    )\n  }\n}\n\nclass Contents extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.prepareRows = this.prepareRows.bind(this);\n    this.sortItems = this.sortItems.bind(this);\n    this.handleSortFieldCLick = this.handleSortFieldCLick.bind(this);\n    this.handleItemFocusedChange = this.handleItemFocusedChange.bind(this);\n  }\n\n  handleSortFieldCLick(e) {\n    const sortRules = this.props.sortRules;\n    const element = e.currentTarget;\n    if (element.getAttribute(\"name\") === sortRules.columnName) {\n      sortRules.asc = !this.props.sortRules.asc;\n    } else {\n      sortRules.asc = element.getAttribute(\"value\") === \"asc\";\n      sortRules.columnName = element.getAttribute(\"name\")\n    }\n\n    this.props.onSortRulesChange(sortRules)\n  }\n\n  handleItemFocusedChange(itemID) {\n    if (itemID !== undefined) {\n      this.props.onItemFocused(Number(itemID))\n    }\n  }\n\n  sortItems(items) {\n    const {sortRules, pathsCount} = this.props;\n    if (sortRules.columnName === \"count\") {\n      if (sortRules.asc) {\n        items.sort((a, b) => (pathsCount[a[\"_source\"][\"route-sha1\"]] > pathsCount[b[\"_source\"][\"route-sha1\"]] ? 1: -1));\n      } else {\n        items.sort((a, b) => (pathsCount[a[\"_source\"][\"route-sha1\"]] < pathsCount[b[\"_source\"][\"route-sha1\"]] ? 1: -1));\n      }\n    } else {\n      const fieldName = sortRules.columnName;\n      if (sortRules.asc) {\n        items.sort((a, b) => ((a[\"_source\"][fieldName] || '') > (b[\"_source\"][fieldName] || '') ? 1: -1));\n      } else {\n        items.sort((a, b) => ((a[\"_source\"][fieldName] || '') < (b[\"_source\"][fieldName] || '') ? 1: -1));\n      }\n    }\n\n    return items\n  }\n\n  paginateItems(items) {\n    let pageNumber = this.props.currentPage.value;\n    --pageNumber;\n    return items.slice(pageNumber * this.props.paginateBy, (pageNumber + 1) * this.props.paginateBy);\n  }\n\n  prepareRows(items) {\n    let processedItems = this.paginateItems(this.sortItems(items));\n    let rows = [];\n\n    if (items.length) {\n      for (let i = 0; i < processedItems.length; i++) {\n        let item = processedItems[i];\n        rows.push(\n          <Path\n            key={item._source[\"route-sha1\"]}\n            searchQuery={this.props.searchQuery}\n            itemIdx={i}\n            item={item}\n            count={this.props.pathsCount[item._source[\"route-sha1\"]]}\n            odd={Math.abs(i % 2) === 1}\n            focused={this.props.itemFocused === i}\n            pressed={this.props.selectedPath === item._source[\"route-sha1\"]}\n            onItemFocusedChange={this.handleItemFocusedChange}\n            onItemClicked={this.props.onItemPressed}\n          />\n        )\n      }\n    } else {\n      rows = [<tr key={\"no-data\"} className={\"filter-item no-data\"}><td colSpan={6}><span>No data</span></td></tr>]\n    }\n\n    return rows\n  }\n\n  render() {\n    const {columnName, asc} = this.props.sortRules;\n\n    return (\n      <div>\n        <table id={\"paths-table\"} className={\"full-width\"} cellSpacing=\"1\" cellPadding=\"0\">\n          <thead>\n          <tr className={\"table-head\"}>\n            <th>\n              <div className={\"table-column-name\"}>\n                <span>Path's ends</span>\n              </div>\n            </th>\n            <th>\n              <div className={\"table-column-name\"}>\n                <span>Hosts</span>\n              </div>\n            </th>\n            <th className={\"middle\"}>\n              <div className={\"table-column-name\"}>\n                <span>Sites</span>\n              </div>\n            </th>\n            <th className={\"middle\"}>\n              <div className={\"table-column-name\"}>\n                <span>Virtual Organisations</span>\n              </div>\n            </th>\n            <th className={\"small\"}>\n              <div className={\"table-column-name\"}>\n                <span>Production</span>\n              </div>\n            </th>\n            <th className={\"small\"}>\n              <div className={\"table-column-name no-border\"}>\n                <span>Count</span>\n              </div>\n            </th>\n          </tr>\n          <tr className={\"table-sub-head\"}>\n            <th>\n              <div className={\"table-column-name\"}>\n                <div className={\"two-lines-cell\"}>\n                  <button className={\"table-row-value text-center \" + (columnName === \"src\" && !asc ? \"rotated\": \"\")} onClick={this.handleSortFieldCLick} name={\"src\"} value={\"desc\"}>\n                    <span>Src</span>\n                    <span className={\"arrow\"}>{columnName === \"src\" ? <i className=\"im im-arrow-up\"/>:\n                      <i className=\"im im-minus\"/>}</span>\n                  </button>\n                  <button className={\"table-row-value text-center \" + (columnName === \"dest\" && !asc ? \"rotated\": \"\")} onClick={this.handleSortFieldCLick} name={\"dest\"} value={\"desc\"}>\n                    <span>Dest</span>\n                    <span className={\"arrow\"}>{columnName === \"dest\" ? <i className=\"im im-arrow-up\"/>:\n                      <i className=\"im im-minus\"/>}</span>\n                  </button>\n                </div>\n              </div>\n            </th>\n            <th>\n              <div className={\"table-column-name\"}>\n                <div className={\"two-lines-cell\"}>\n                  <button className={\"table-row-value text-center \" + (columnName === \"src_host\" && !asc ? \"rotated\": \"\")} onClick={this.handleSortFieldCLick} name={\"src_host\"} value={\"desc\"}>\n                    <span>Src</span>\n                    <span className={\"arrow\"}>{columnName === \"src_host\" ? <i className=\"im im-arrow-up\"/>:\n                      <i className=\"im im-minus\"/>}</span>\n                  </button>\n                  <button className={\"table-row-value text-center \" + (columnName === \"dest_host\" && !asc ? \"rotated\": \"\")} onClick={this.handleSortFieldCLick} name={\"dest_host\"} value={\"desc\"}>\n                    <span>Dest</span>\n                    <span className={\"arrow\"}>{columnName === \"dest_host\" ? <i className=\"im im-arrow-up\"/>:\n                      <i className=\"im im-minus\"/>}</span>\n                  </button>\n                </div>\n              </div>\n            </th>\n            <th>\n              <div className={\"table-column-name\"}>\n                <div className={\"two-lines-cell\"}>\n                  <button className={\"table-row-value text-center \" + (columnName === \"src_site\" && !asc ? \"rotated\": \"\")}  onClick={this.handleSortFieldCLick} name={\"src_site\"} value={\"desc\"}>\n                    <span>Src</span>\n                    <span className={\"arrow\"}>{columnName === \"src_site\" ? <i className=\"im im-arrow-up\"/>:\n                      <i className=\"im im-minus\"/>}</span>\n                  </button>\n                  <button className={\"table-row-value text-center \" + (columnName === \"dest_site\" && !asc ? \"rotated\": \"\")} onClick={this.handleSortFieldCLick} name={\"dest_site\"} value={\"desc\"}>\n                    <span>Dest</span>\n                    <span className={\"arrow\"}>{columnName === \"dest_site\" ? <i className=\"im im-arrow-up\"/>:\n                      <i className=\"im im-minus\"/>}</span>\n                  </button>\n                </div>\n              </div>\n            </th>\n            <th>\n              <div className={\"table-column-name\"}>\n                <div className={\"two-lines-cell\"}>\n                  <button className={\"table-row-value text-center \" + (columnName === \"src_VO\" && !asc ? \"rotated\": \"\")} onClick={this.handleSortFieldCLick} name={\"src_VO\"} value={\"desc\"}>\n                    <span>Src</span>\n                    <span className={\"arrow\"}>{columnName === \"src_VO\" ? <i className=\"im im-arrow-up\"/>:\n                      <i className=\"im im-minus\"/>}</span>\n                  </button>\n                  <button className={\"table-row-value text-center \" + (columnName === \"dest_VO\" && !asc ? \"rotated\": \"\")} onClick={this.handleSortFieldCLick} name={\"dest_VO\"} value={\"desc\"}>\n                    <span>Dest</span>\n                    <span className={\"arrow\"}>{columnName === \"dest_VO\" ? <i className=\"im im-arrow-up\"/>:\n                      <i className=\"im im-minus\"/>}</span>\n                  </button>\n                </div>\n              </div>\n            </th>\n            <th>\n              <div className={\"table-column-name\"}>\n                <div className={\"two-lines-cell\"}>\n                  <button className={\"table-row-value text-center \" + (columnName === \"src_production\" && !asc ? \"rotated\": \"\")} onClick={this.handleSortFieldCLick} name={\"src_production\"} value={\"desc\"}>\n                    <span>Src</span>\n                    <span className={\"arrow\"}>{columnName === \"src_production\" ? <i className=\"im im-arrow-up\"/>:\n                      <i className=\"im im-minus\"/>}</span>\n                  </button>\n                  <button className={\"table-row-value text-center \" + (columnName === \"dest_production\" && !asc ? \"rotated\": \"\")} onClick={this.handleSortFieldCLick} name={\"dest_production\"} value={\"desc\"}>\n                    <span>Dest</span>\n                    <span className={\"arrow\"}>{columnName === \"dest_production\" ? <i className=\"im im-arrow-up\"/>:\n                      <i className=\"im im-minus\"/>}</span>\n                  </button>\n                </div>\n              </div>\n            </th>\n            <th>\n              <div className={\"table-column-name\"}>\n                <div className={\"one-lines-cell\"}>\n                  <button className={\"table-row-value text-center \" + (columnName === \"count\" && !asc ? \"rotated\": \"\")} onClick={this.handleSortFieldCLick} name={\"count\"} value={\"desc\"}>\n                    <span>Records</span>\n                    <span className={\"arrow\"}>{columnName === \"count\" ? <i className=\"im im-arrow-up\"/>:\n                      <i className=\"im im-minus\"/>}</span>\n                  </button>\n                </div>\n              </div>\n            </th>\n          </tr>\n          </thead>\n          <tbody>\n          {this.prepareRows(this.props.paths)}\n          </tbody>\n        </table>\n        <div>\n          <Paginator\n            currentPage={this.props.currentPage}\n            maxPage={this.props.maxPage}\n            onJumpToPageChange={this.props.onJumpToPageChange}\n          />\n          <Statistics statistics={this.props.statistics}/>\n        </div>\n      </div>\n    )\n  }\n}\n\nclass Path extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.handleItemFocusedChange = this.handleItemFocusedChange.bind(this);\n    this.highlightSearch = this.highlightSearch.bind(this);\n    this.handleItemCLicked = this.handleItemCLicked.bind(this);\n  }\n\n  handleItemCLicked() {\n    this.props.onItemClicked(this.props.itemIdx)\n  }\n\n  handleItemFocusedChange() {\n    this.props.onItemFocusedChange(this.props.itemIdx)\n  }\n\n  highlightSearch(value) {\n    if (this.props.searchQuery.length) {\n      let index = value.toLowerCase().indexOf(this.props.searchQuery.toLowerCase());\n      if (index >= 0) {\n        let modifiedSpan = [];\n        let substring = value.slice(index, index + this.props.searchQuery.length);\n        let chunks = value.split(substring);\n\n        for (let i = 0; i < chunks.length; i++) {\n          modifiedSpan.push(chunks[i]);\n          if (i + 1 !== chunks.length) {\n            modifiedSpan.push(<span key={i + substring} className={\"search-query-highlight\"}>{substring}</span>)\n          }\n        }\n\n        return modifiedSpan\n      } else {\n        return value\n      }\n\n    } else {\n      return value\n    }\n  }\n\n  render() {\n    const item = this.props.item._source;\n\n    return (\n      <tr onMouseEnter={this.handleItemFocusedChange}\n          onClick={this.handleItemCLicked\n          } itemID={item[\"route-sha1\"]}\n          className={\"path-table-row\" + (this.props.odd ? \" odd\": \" even\") + (this.props.focused ? \" focused\": \"\") + (this.props.pressed ? \" pressed\": \"\")}>\n        <td className={\"border-left\"}>\n          <div className={\"two-lines-cell large\"}>\n            <p className={\"table-row-value source text-left text-truncate\"} title={item.src}><span>{this.highlightSearch(item.src ? item.src: \"-\")}</span></p>\n            <p className={\"table-row-value destination text-left text-truncate\"} title={item.dest}><span>{this.highlightSearch(item.dest ? item.dest: \"-\")}</span></p>\n          </div>\n        </td>\n        <td>\n          <div className={\"two-lines-cell large\"}>\n            <p className={\"table-row-value source text-left text-truncate\"} title={item.src_host}>{this.highlightSearch(item.src_host ? item.src_host: \"-\")}</p>\n            <p className={\"table-row-value destination text-left text-truncate\"} title={item.dest_host}>{this.highlightSearch(item.dest_host ? item.dest_host: \"-\")}</p>\n          </div>\n        </td>\n        <td>\n          <div className={\"two-lines-cell middle\"}>\n            <p className={\"table-row-value source text-center text-truncate\"} title={item.src_site}>{this.highlightSearch(item.src_site ? item.src_site: \"-\")}</p>\n            <p className={\"table-row-value destination text-center text-truncate\"} title={item.dest_site}>{this.highlightSearch(item.dest_site ? item.dest_site: \"-\")}</p>\n          </div>\n        </td>\n        <td>\n          <div className={\"two-lines-cell middle\"}>\n            <p className={\"table-row-value source text-center text-truncate\"} title={item.src_VO}>{this.highlightSearch(item.src_VO ? item.src_VO: \"-\")}</p>\n            <p className={\"table-row-value destination text-center text-truncate\"} title={item.dest_VO}>{this.highlightSearch(item.dest_VO ? item.dest_VO: \"-\")}</p>\n          </div>\n        </td>\n        <td>\n          <div className={\"two-lines-cell small\"}>\n            <p className={\"table-row-value source text-center\"}>{item.src_production ?\n              <i className=\"green im im-check-mark-circle-o\"/> : <i className=\"red im im-x-mark-circle-o\"/>}</p>\n            <p className={\"table-row-value destination text-center\"}>{item.dest_production ?\n              <i className=\"green im im-check-mark-circle-o\"/> : <i className=\" red im im-x-mark-circle-o\"/>}</p>\n          </div>\n        </td>\n        <td  className={\"border-right\"}>\n          <div className={\"one-lines-cell small\"}>\n            <p className={\"table-row-value text-center border-right\"}>{this.props.count}</p>\n          </div>\n        </td>\n      </tr>\n    )\n  }\n}\n\n\nclass PathsTable extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      searchQuery: \"\",\n      currentPage: {\n        value: 1,\n        mask: \"1\"\n      },\n      paginateBy: 5,\n      sortRules: {\n        columnName: \"count\",\n        asc: false\n      },\n      itemFocused: 0,\n      itemPressed: null,\n    };\n\n    this.handleJumpToPage = this.handleJumpToPage.bind(this);\n    this.handleSortRulesChange = this.handleSortRulesChange.bind(this);\n    this.handleItemFocused = this.handleItemFocused.bind(this);\n    this.handleSearchQueryChange = this.handleSearchQueryChange.bind(this);\n    this.handleItemPressed = this.handleItemPressed.bind(this);\n  }\n\n  handleSortRulesChange(sortRules) {\n    this.setState({sortRules})\n  }\n\n  handleJumpToPage(e, currentPage, maxPage) {\n    if (e !== null) {\n      let pageInput = e.target.value;\n      if (pageInput === \"\") {\n        currentPage = {\n          value: this.state.currentPage.value,\n          mask: pageInput,\n        };\n      } else {\n        currentPage = {\n          value: Number(pageInput),\n          mask: pageInput\n        }\n      }\n    }\n    if ((0 === currentPage.value) || (currentPage.value > maxPage)) {\n      if (0 === currentPage.value) {\n        currentPage.value = maxPage;\n        currentPage.mask = String(maxPage)\n      }\n      if (currentPage.value > maxPage) {\n        currentPage.value = 1;\n        currentPage.mask = String(1)\n      }\n    }\n\n    this.setState({currentPage})\n  }\n\n  handleItemFocused(itemFocused) {\n    this.setState({itemFocused})\n  }\n\n  handleSearchQueryChange(searchQuery) {\n    const currentPage = {\n      value: 1,\n      mask: \"1\"\n    };\n\n    this.setState({\n      searchQuery,\n      currentPage\n    })\n  }\n\n  handleItemPressed(itemPressed) {\n    if (itemPressed !== null) {\n      this.setState({itemPressed});\n      const pathID = document.getElementsByClassName(\"path-table-row\")[itemPressed].getAttribute(\"itemID\");\n      this.props.onPathSelected(pathID);\n      this.props.onHopSelected({selectedHop: null})\n    }\n\n    this.setState({itemPressed})\n  }\n\n  calculateStatistics(items) {\n    const itemsTotal = new Set(Array.from(this.props.paths, item => item[\"_source\"][\"route-sha1\"])).size;\n\n    if (items.length === 0) {\n      return {\n        itemsShown: items.length,\n        itemsTotal: itemsTotal,\n        shownFrom: 0,\n        shownTo: 0\n      }\n    } else {\n      const shownFrom = (this.state.currentPage.value - 1) * this.state.paginateBy + 1;\n      return {\n        itemsShown: items.length,\n        itemsTotal: itemsTotal,\n        shownFrom: shownFrom,\n        shownTo: shownFrom + this.state.paginateBy > items.length ? items.length: shownFrom + this.state.paginateBy - 1\n      };\n    }\n  }\n\n  calculateMaxPage(items) {\n    let maxPage = 1;\n    if (items.length) {\n      maxPage = Math.ceil(items.length/this.state.paginateBy);\n    }\n    return maxPage\n  }\n\n  countPaths(paths){\n    const count = {};\n    for (let i = 0; i < paths.length; i++) {\n      count[paths[i][\"_source\"][\"route-sha1\"]] = 1 + (count[paths[i][\"_source\"][\"route-sha1\"]] || 0)\n    }\n\n    return count\n  }\n\n  filterPaths(paths) {\n    const {searchQuery} = this.state;\n    const searchFields = [\"src\", \"dest\", \"src_host\", \"dest_host\", \"src_site\", \"dest_site\", \"src_VO\", \"dest_VO\"];\n\n    let buffer = [], processedItems = [];\n    for (let k = 0; k < paths.length; k++) {\n      if (buffer[paths[k][\"_source\"][\"route-sha1\"]]) continue;\n      buffer[paths[k][\"_source\"][\"route-sha1\"]] = true;\n\n      if (searchQuery) {\n        for (let j = 0; j < searchFields.length; j++) {\n          if (paths[k][\"_source\"][searchFields[j]]) {\n            if (paths[k][\"_source\"][searchFields[j]].toLowerCase().indexOf(searchQuery.toLowerCase()) >= 0) {\n              processedItems.push(paths[k]);\n              break\n            }\n          }\n        }\n      } else {\n        processedItems.push(paths[k])\n      }\n    }\n\n    return processedItems\n  }\n\n  handleHideShow() {\n    const classList = document.getElementById(\"paths-table-container\").classList;\n    if (classList.contains(\"opened\")) {\n      classList.remove(\"opened\")\n    } else {\n      classList.add(\"opened\")\n    }\n  }\n\n  render() {\n\n    const paths = this.filterPaths(this.props.paths);\n    const pathsCount = this.countPaths(this.props.paths);\n    const statistics = this.calculateStatistics(paths);\n    const maxPage = this.calculateMaxPage(paths);\n\n    return (\n      <div id={\"paths-table-container\"} className={\"paths-table opened\"}>\n        <div className={\"paths-table-switcher\"}>\n          <button onClick={this.handleHideShow} onMouseDown={this.handleMouseDown} onMouseUp={this.handleMouseUp}>\n            <i className=\"im im-arrow-down\"/>\n          </button>\n        </div>\n        <div className={\"paths-table-wrapper\"}>\n          <div>\n            <div className={\"paths-table-tools\"}>\n              <div className={\"paths-table-tool-item\"}/>\n              <div className={\"paths-table-tool-item\"}>\n                <SearchBar\n                  searchQuery={this.state.searchQuery}\n                  onSearchBarChange={this.handleSearchQueryChange}\n                  itemFocused={this.state.itemFocused}\n                  paginateBy={this.state.paginateBy}\n                  currentPage={this.state.currentPage}\n                  maxPage={maxPage}\n                  tail={paths.length % this.state.paginateBy}\n                  onJumpToPageChange={this.handleJumpToPage}\n                  onItemFocused={this.handleItemFocused}\n                  onItemPressed={this.handleItemPressed}\n                />\n              </div>\n            </div>\n            <div className={\"paths-table-body\"}>\n              <Contents\n                paths={paths}\n                pathsCount={pathsCount}\n                searchQuery={this.state.searchQuery}\n                currentPage={this.state.currentPage}\n                paginateBy={this.state.paginateBy}\n                maxPage={maxPage}\n                onJumpToPageChange={this.handleJumpToPage}\n                statistics={statistics}\n                sortRules={this.state.sortRules}\n                onSortRulesChange={this.handleSortRulesChange}\n                itemFocused={this.state.itemFocused}\n                selectedPath={this.props.selectedPath}\n                onItemFocused={this.handleItemFocused}\n                onItemPressed={this.handleItemPressed}\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n\n}\n\nexport default PathsTable\n","import moment from \"moment\";\n\nfunction preparePathData(paths, selectedPath, pathInfo) {\n  let data = {\n    labels: [],\n    datasets: [{\n      label: 'Hops',\n      backgroundColor: 'rgba(72,72,72,0.5)',\n      borderColor: 'rgba(72,72,72,1)',\n      borderWidth: 1,\n      outlierColor: '#ff2b71',\n      padding: 10,\n      itemRadius: 0,\n      data: []\n    }],\n    pathInfo: null\n  };\n\n  if (!selectedPath) {\n    return data\n  }\n\n  paths = paths.filter((path) => path[\"_source\"][\"route-sha1\"] === selectedPath);\n  if (pathInfo.filterWrongMeasurements) {\n    paths = this.filterWrongMeasurements(paths)\n  }\n\n  if (!paths.length) {\n    return data\n  }\n\n  const ttlsRtts = paths.map(path => {\n    const ttls = path[\"_source\"][\"ttls\"];\n    const rtts = path[\"_source\"][\"rtts\"];\n    return ttls.map((element, idx) => [element, rtts[idx]])\n  });\n\n  const xCoords = [];\n  ttlsRtts[0].forEach(e => xCoords.push(e[0]));\n\n  let rtts = [];\n  ttlsRtts.forEach(rttsValues => {\n    rtts.push(rttsValues.map(values => values[1]))\n  });\n\n  const rttsByTtls = rtts[0].map((col, i) => rtts.map(row => row[i]));\n\n  data.labels = xCoords;\n  data.datasets[0].data = rttsByTtls;\n  data.pathInfo = paths[0];\n\n  return data\n}\n\nfunction DispatchUrl(urlSearchParams) {\n  const urlParams = new URLSearchParams(urlSearchParams);\n  const urlData = JSON.parse(urlParams.get(\"query\"));\n  const esQuery = urlData.es_query;\n  const mustConditions = esQuery.query.bool.must;\n\n  const query = {\n    datetimeFrom: moment.unix(urlParams.get(\"datetimeFrom\")/1000),\n    datetimeTo: moment.unix(urlParams.get(\"datetimeTo\")/1000),\n    sources: [],\n    sources_hosts: [],\n    destinations: [],\n    destinations_hosts: [],\n    virtual_organisations: [], // not here yet\n    IPv6: false\n  };\n\n  for (let i = 0; i < mustConditions.length; i++) {\n    const condition = mustConditions[i];\n    if (\"range\" in condition) {\n      query.datetimeFrom = moment.unix(condition.range.timestamp.gte/1000);\n      query.datetimeTo = moment.unix(condition.range.timestamp.lte/1000);\n    } else {\n      if (\"term\" in condition) {\n        query.IPv6 = condition.term.ipv6\n      } else {\n        for (let j = 0; j < condition.bool.should.length; j++) {\n          const conditionTerms = condition.bool.should[j].terms;\n          if (\"src\" in conditionTerms) {\n            query.sources = conditionTerms.src\n          }\n          if (\"src_host\" in conditionTerms) {\n            query.sources_hosts = conditionTerms.src_host\n          }\n          if (\"dest\" in conditionTerms) {\n            query.destinations = conditionTerms.dest\n          }\n          if (\"dest_host\" in conditionTerms) {\n            query.destinations_hosts = conditionTerms.dest_host\n          }\n        }\n      }\n    }\n  }\n\n  return query\n}\n\n/**\n * @return {string}\n */\nfunction PackUrl(query) {\n\n  const srcShould = [];\n  if (query.sources.length) {\n    srcShould.push({\n      terms: {\n        src: query.sources\n      }\n    })\n  }\n\n  if (query.sources_hosts.length) {\n    srcShould.push({\n      terms: {\n        src_host: query.sources_hosts\n      }\n    })\n  }\n\n  const destShould = [];\n  if (query.destinations.length) {\n    destShould.push({\n      terms: {\n        dest: query.destinations\n      }\n    })\n  }\n\n  if (query.destinations_hosts.length) {\n    destShould.push({\n      terms: {\n        dest_host: query.destinations_hosts\n      }\n    })\n  }\n\n  const newQuery = {\n    es_query: {\n      query: {\n        bool: {\n          must: [\n            {\n              range: {\n                timestamp: {\n                  gte: moment.unix(query.datetimeFrom)/1000,\n                  lte: moment.unix(query.datetimeTo)/1000,\n                }\n              }\n            },\n            {\n              term: {\n                ipv6: query.IPv6\n              }\n            },\n            {\n              bool: {\n                should: srcShould\n              }\n            },\n            {\n              bool: {\n                should: destShould\n              }\n            }\n          ]\n        }\n      }\n    },\n    parameters: {}\n  };\n\n  return `?query=${JSON.stringify(newQuery)}`;\n}\n\nfunction ReformAggregations(aggregations) {\n  const reformedItems = {}\n\n  Object.keys(aggregations).forEach(item => {\n    reformedItems[item] = [];\n    aggregations[item][\"buckets\"].forEach(i => {\n      reformedItems[item].push({\n        \"name\": i.key,\n        \"count\": 0\n      })\n    })\n  })\n\n  return reformedItems\n}\n\nexport const reformAggregations = (aggregations) => {\n  return ReformAggregations(aggregations)\n};\n\nexport const dispatchUrl = (url) => {\n  return DispatchUrl(url)\n};\n\nexport const packUrl = (query) => {\n  return PackUrl(query)\n};\n\nexport default preparePathData","import ChartComponent from 'react-chartjs-2';\nimport React, {Component} from 'react';\nimport 'chartjs-chart-box-and-violin-plot';\nimport \"./css/path-chart.css\"\nimport preparePathData from '../../utils/common'\n\n\nclass PathChart extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.getOptions = this.getOptions.bind(this);\n  }\n\n  filterWrongMeasurements(paths) {\n    const higherZero = (number) => number > 0;\n    paths = paths.filter(path => path[\"_source\"][\"rtts\"].every(higherZero));\n\n    return paths\n  }\n\n  getOptions() {\n    const convertStats = (stats) => {\n      let { min, q1, median, q3, max } = stats;\n      min = min.toFixed(2);\n      q1 = q1.toFixed(2);\n      median = median.toFixed(2);\n      q3 = q3.toFixed(2);\n      max = max.toFixed(2);\n\n      return { min, q1, median, q3, max }\n    };\n\n    return {\n      onClick: (event, item) => {\n        if (item.length) {\n          const pathNavigation = {\n            selectedHop: Number(item[0]._model.label)\n          };\n          this.props.onHopSelected(pathNavigation)\n        }\n      },\n      tooltips: {\n        callbacks: {\n          title: function (tooltipItems) {\n            return `Hop  ${tooltipItems[0].xLabel}`\n          },\n          boxplotLabel: function (item, data, stats, hoveredOutlierIndex) {\n            let {min, q1, median, q3, max} = convertStats(stats);\n            return `min: ${min} max:${max} q1:${q1} median:${median} q3:${q3}`;\n          },\n          violinLabel: function (item, data, stats) {\n            let {min, q1, median, q3, max} = convertStats(stats);\n            return [\n              `min: ${min} max:${max}`,\n              `median:${median}`,\n              `q1:${q1} q3:${q3}`\n            ]\n          },\n        }\n      }\n    }\n  }\n\n  handleHideShow() {\n    const classList = document.getElementById(\"path-chart\").classList;\n    if (classList.contains(\"opened\")) {\n      classList.remove(\"opened\")\n    } else {\n      classList.add(\"opened\")\n    }\n  }\n\n  handleChartResize() {\n    const chartElement = document.getElementById(\"path-chart\");\n    const classList = chartElement.classList;\n\n    const resizeIcon = document.getElementById(\"path-chart-resize-icon\");\n    const iconClassList = resizeIcon.classList;\n\n    const pathInfoContainer = document.getElementsByClassName(\"path-info-container\");\n\n    if (classList.contains(\"maximized\")) {\n      classList.remove(\"maximized\");\n      pathInfoContainer[0].classList.remove(\"maximize-impact\");\n\n      iconClassList.remove(\"im-minimize\");\n      iconClassList.add(\"im-maximize\")\n    } else {\n      classList.add(\"maximized\");\n\n      pathInfoContainer[0].classList.add(\"maximize-impact\");\n      iconClassList.remove(\"im-maximize\");\n      iconClassList.add(\"im-minimize\")\n    }\n\n    const chartHeight = chartElement.clientHeight;\n    const restScreenHeight = document.getElementsByTagName(\"body\")[0].clientHeight - chartHeight - 75;\n    document.getElementsByClassName(\"path-viewer-fragments\")[0].style.height = restScreenHeight + \"px\"\n  }\n\n  render() {\n    let {paths, selectedPath, pathInfo, pathChartRef} = this.props;\n    const pathChartData = preparePathData(paths, selectedPath, pathInfo);\n    const options = this.getOptions();\n\n    return (\n      <div id={\"path-chart\"} ref={pathChartRef} className={\"path-viewer-container\"}>\n        <div className={\"path-viewer\"}>\n          <div className={\"path-viewer-switcher\"}>\n            <button onClick={this.handleHideShow}>\n              <i className=\"im im-arrow-left\"/>\n            </button>\n          </div>\n          <div className={\"path-viewer-switcher resize\"}>\n            <button onClick={this.handleChartResize}>\n              <i id={\"path-chart-resize-icon\"} className=\"im im-maximize\"/>\n            </button>\n          </div>\n          <div className={\"path-viewer-content\"}>\n            <div className={\"path-viewer-wrapper chart\"}>\n              <h3>Hops chart</h3>\n              <div className={\"path-viewer-chart\"}>\n                <ChartComponent\n                  data={pathChartData}\n                  options={options}\n                  legend={false}\n                  ref={ref => this.chartInstance = ref && ref.chartInstance}\n                  type='violin'\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default PathChart;\n","// Constants.js\nconst prod = {\n  url: {\n    API_URL: \"/api/\"\n  }\n};\n\nconst dev = {\n  url: {\n    API_URL: \"http://localhost:8000/api/\"\n  }\n};\n\nexport const config = process.env.NODE_ENV === \"development\" ? dev : prod;","import React, {Component} from 'react';\nimport 'chartjs-chart-box-and-violin-plot';\nimport \"./css/path-info.css\"\nimport PerfectScrollbar from 'react-perfect-scrollbar'\nimport preparePathData from '../../utils/common'\nimport { config } from '../../constants'\n\n\nclass ASNumberLabel extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      asnData: null\n    }\n  }\n\n  async componentDidMount() {\n    const {asn} = this.props;\n\n    let asnData = JSON.parse(localStorage.getItem(`asn-${asn}`));\n    if (!asnData) {\n      const response = await fetch(`${config.url.API_URL}asn/${asn}`);\n      // const response = await fetch(`/api/asn/${asn}`);\n      const response_content = await response.json();\n      if (response_content.status) {\n        asnData = response_content.item;\n        localStorage.setItem(`asn-${asn}`, JSON.stringify(asnData))\n      }\n    }\n\n    this.setState({asnData})\n  }\n\n  render() {\n    const {asnData} = this.state;\n\n    if (!asnData) {\n      return <div className={\"asn-label\"}>Loading...</div>\n    } else {\n      return (\n        <div className={\"asn-label\"}>\n          <table>\n            <tbody>\n            <tr>\n              <th>Name</th>\n              <td>{asnData[\"Name\"] ? asnData[\"Name\"]: \"-\"}</td>\n            </tr>\n            <tr>\n              <th>Description</th>\n              <td>{asnData[\"Description\"] ? asnData[\"Description\"]: \"-\"}</td>\n            </tr>\n            <tr>\n              <th>Website</th>\n              <td>\n                {asnData[\"Website\"] ? <a\n                  className={\"asn-website\"}\n                  href={asnData[\"Website\"]}\n                  target={\"_blank\"}>\n                  {asnData[\"Website\"]}\n                </a>: \"-\"}\n              </td>\n            </tr>\n            <tr>\n              <th>Country</th>\n              <td>{asnData[\"Country\"] ? asnData[\"Country\"]: \"-\"}</td>\n            </tr>\n            <tr>\n              <th>E-mail contracts</th>\n              <td>{asnData[\"E-mail contracts\"] ? asnData[\"E-mail contracts\"]: \"-\"}</td>\n            </tr>\n            <tr>\n              <th>Abuse contracts</th>\n              <td>{asnData[\"Abuse contracts\"] ? asnData[\"Abuse contracts\"]: \"-\"}</td>\n            </tr>\n            <tr>\n              <th>Traffic estimation</th>\n              <td>{asnData[\"Traffic estimation\"] ? asnData[\"Traffic estimation\"]: \"-\"}</td>\n            </tr>\n            <tr>\n              <th>Traffic ratio</th>\n              <td>{asnData[\"Traffic ratio\"] ? asnData[\"Traffic ratio\"]: \"-\"}</td>\n            </tr>\n            <tr>\n              <th>Owner address</th>\n              <td>{asnData[\"Owner address\"] ? asnData[\"Owner address\"]: \"-\"}}</td>\n            </tr>\n            </tbody>\n          </table>\n        </div>\n      )\n    }\n  }\n}\n\nclass PathNode extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      isHovered: false\n    }\n  }\n\n  handleEnter() {\n    this.setState({isHovered: true})\n  }\n\n  handleLeave() {\n    this.setState({isHovered: false})\n  }\n\n  render() {\n    const {nodeType, value, extraValue, label, asn} = this.props;\n    let variablePart;\n    if (extraValue) {\n      variablePart = <span>({extraValue})</span>\n    } else {\n      if (asn) {\n        variablePart = <div className={\"asn-container\"} onMouseEnter={this.handleEnter.bind(this)} onMouseLeave={this.handleLeave.bind(this)}>\n          <span>asn:</span><span>{asn}</span>{this.state.isHovered ? <ASNumberLabel asn={asn}/>: <span/>}\n        </div>\n      } else {\n        variablePart = <span/>\n      }\n    }\n\n    return (\n      <div className={\"path-fragment node \" + nodeType}>\n        <div className={\"node-type\"}>\n          <span>{label}</span>\n        </div>\n        <div className={\"node-info\"}>\n          <span title={value} >{value}</span>\n          {variablePart}\n        </div>\n      </div>\n    )\n  }\n}\n\nclass PathHop extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.handleHopSelected = this.handleHopSelected.bind(this)\n  }\n\n  handleHopSelected() {\n    const {hopNumber, onHopSelected} = this.props;\n\n    const pathNavigation = {\n      selectedHop: hopNumber\n    };\n    onHopSelected(pathNavigation)\n  }\n\n  render() {\n    const { stats, hopSelected} = this.props;\n\n    return (\n      <div onClick={this.handleHopSelected} className={\"path-fragment hop stats\" + (hopSelected ? \" active\": \"\")}>\n        <div className={\"stats-group less\"}>\n          <div className={\"stats-item min\"}>\n            <span className={\"label\"}>{\"Min: \"}</span>\n            <span className={\"value\"}>{stats ? stats.min.toFixed(2): \"-\"}</span>\n          </div>\n          <div className={\"stats-item q1\"}>\n            <span className={\"label\"}>{\"Q1: \"}</span>\n            <span className={\"value\"}>{stats ? stats.q1.toFixed(2): \"-\"}</span>\n          </div>\n        </div>\n        <div className={\"stats-group middle\"}>\n          <div className={\"stats-item median\"}>\n            <span className={\"label\"}>{\"Std. dev.\"}</span>\n            <span className={\"value\"}>{stats ? stats.stdDev.toFixed(2): \"-\"}</span>\n          </div>\n          <div className={\"stats-item median\"}>\n            <span className={\"label\"}>{\"Median\"}</span>\n            <span className={\"value\"}>{stats ? stats.median.toFixed(2): \"-\"}</span>\n          </div>\n        </div>\n        <div className={\"stats-group more\"}>\n          <div className={\"stats-item max\"}>\n            <span className={\"label\"}>{\"Max: \"}</span>\n            <span className={\"value\"}>{stats ? stats.max.toFixed(2): \"-\"}</span>\n          </div>\n          <div className={\"stats-item q3\"}>\n            <span className={\"label\"}>{\"Q3: \"}</span>\n            <span className={\"value\"}>{stats ? stats.q3.toFixed(2): \"-\"}</span>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nclass PathInfo extends Component {\n  constructor(props) {\n    super(props);\n\n    this.pathInfoRef = React.createRef();\n    this.pathViewerFragments = React.createRef();\n    this.scrollBarRef = React.createRef();\n\n    this.getPathFragments = this.getPathFragments.bind(this);\n    this.handleHopSelected = this.handleHopSelected.bind(this);\n    this.handleHideShow = this.handleHideShow.bind(this);\n  }\n\n  componentDidMount() {\n    const chartHeight = this.props.pathChart.current.clientHeight;\n    const restScreenHeight = document.getElementsByTagName(\"body\")[0].clientHeight - chartHeight - 75;\n    document.getElementsByClassName(\"path-viewer-fragments\")[0].style.height = restScreenHeight + \"px\"\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    let scrollTop = -this.pathViewerFragments.current.scrollHeight/2.5;\n    const elements = document.getElementsByClassName(\"path-fragment\");\n    let flag = false;\n    for (let i = 0; i < elements.length; i++) {\n      if (elements[i].classList.contains(\"active\")) {\n        flag = true;\n        break\n      } else {\n        scrollTop += elements[i].scrollHeight\n      }\n    }\n\n    if (flag) {\n      this.scrollBarRef.current[\"_container\"].scrollTo({\n        top: scrollTop,\n        behavior: \"smooth\"\n      });\n    }\n  }\n\n  filterWrongMeasurements(paths) {\n    const higherZero = (number) => number > 0;\n    paths = paths.filter(path => path[\"_source\"][\"rtts\"].every(higherZero));\n\n    return paths\n  }\n\n  getPathFragments(pathInfoData) {\n    const { selectedHop, pathsStats } = this.props;\n    const content = [];\n    const {labels, pathInfo} = pathInfoData;\n    if (pathInfo !== null) {\n\n      let pathData = {};\n      pathInfo[\"_source\"][\"ttls\"].forEach((ttl, i) => {\n        pathData[ttl] = {\n          hop: pathInfo[\"_source\"][\"hops\"][i],\n          asn: pathInfo[\"_source\"][\"asns\"][i],\n          stats: pathsStats[`${pathInfo[\"_source\"][\"route-sha1\"]}-${ttl}`]\n        };\n      });\n\n      content.push(\n        <PathNode\n          key={pathInfo[\"_source\"][\"src\"] + pathInfo[\"_source\"][\"route-sha1\"]}\n          label={\"src\"}\n          nodeType={\"src\"}\n          value={pathInfo[\"_source\"][\"src\"]}\n          extraValue={pathInfo[\"_source\"][\"src_host\"]}\n        />\n      );\n\n      let offset = 1;\n      let destNumber = Math.max(...labels);\n      labels.forEach((hopNumber, i) => {\n        while (i + offset < hopNumber) {\n          content.push(\n            <PathHop\n              key={(i + offset) + \"Hop\" + pathInfo[\"_source\"][\"route-sha1\"]}\n              hopSelected={(i + offset) === selectedHop}\n              hopNumber={(i + offset)}\n              onHopSelected={this.props.onHopSelected}\n            />\n          );\n          content.push(\n            <PathNode\n              key={(i + offset) + \"-node-\" + pathInfo[\"_source\"][\"route-sha1\"]}\n              nodeType={\"missed \" + ((i + offset) === destNumber ? \"dest\": \"hop\")}\n              label={(i + offset) === destNumber ? \"dest\": \"Node \" + (i + offset)}\n              value={\"No data\"}\n            />\n          );\n          offset += 1;\n        }\n\n        if (hopNumber === i + offset) {\n          const {hop, asn, stats} = pathData[hopNumber];\n          content.push(\n            <PathHop\n              key={(i + offset) + \"Hop\" + pathInfo[\"_source\"][\"route-sha1\"]}\n              hopSelected={(i + offset) === selectedHop}\n              stats={stats}\n              hopNumber={(i + offset)}\n              onHopSelected={this.props.onHopSelected}\n            />\n          );\n          content.push(\n            <PathNode\n              key={(i + offset) + \"-node-\" + pathInfo[\"_source\"][\"route-sha1\"]}\n              nodeType={(i + offset) === destNumber ? \"dest\" + (pathInfo[\"_source\"][\"dest\"] === hop ? \"\":\" incomplete\") : \"hop\"}\n              label={(i + offset) === destNumber ? \"dest\": \"Node \" + (i + offset)}\n              value={hop}\n              asn={asn}\n            />\n          )\n        }\n      })\n    } else {\n      content.push(<div key={\"path-no-data\"} className={\"no-data\"}><span>No data</span></div>)\n    }\n\n    return content\n  }\n\n  handleHideShow() {\n    const classList = this.pathInfoRef.current.classList;\n    if (classList.contains(\"opened\")) {\n      classList.remove(\"opened\")\n    } else {\n      classList.add(\"opened\")\n    }\n  }\n\n  handleHopSelected(event) {\n    console.log(event);\n    // const pathNavigation = {\n    //   selectedHop: Number(hopSelected)\n    // };\n    // this.props.onHopSelected(pathNavigation)\n  }\n\n  render() {\n    const {paths, selectedPath, pathInfo} = this.props;\n\n    const pathInfoData = preparePathData(paths, selectedPath, pathInfo);\n    const pathFragments = this.getPathFragments(pathInfoData);\n\n    return (\n      <div id={\"path-info\"} ref={this.pathInfoRef} className={\"path-viewer-container\"}>\n        <div className={\"path-viewer\"}>\n          <div className={\"path-viewer-switcher\"}>\n            <button onClick={this.handleHideShow} onMouseDown={this.handleMouseDown} onMouseUp={this.handleMouseUp}>\n              <i className=\"im im-arrow-left\"/>\n            </button>\n          </div>\n          <div className={\"path-viewer-content\"}>\n            <div className={\"path-viewer-wrapper\"}>\n              <h3>Path info</h3>\n              <div ref={this.pathViewerFragments} className={\"path-viewer-fragments\"}>\n                <PerfectScrollbar ref={this.scrollBarRef}>\n                  <div className={\"path-viewer-fragments-content\"}>\n                    {pathFragments}\n                  </div>\n                </PerfectScrollbar>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\n\nexport default PathInfo;\n","import React, {Component} from 'react';\nimport './css/force-directed-graph.css'\nimport {ForceGraph3D} from 'react-force-graph';\nimport {SphereGeometry, Mesh, MeshBasicMaterial} from 'three';\n\nconst shapes = {\n  \"LargeSphere\": new SphereGeometry(10, 32, 32),\n  \"sphere\": new SphereGeometry(5, 32, 32)\n};\n\nclass Node {\n  constructor(id, type, number, pathHash) {\n    this.id = id;\n    this.type = type;\n    this.number = number;\n    this.pathHash = pathHash;\n    this.label = this.getLabel();\n  }\n\n  getLabel() {\n    let label;\n    switch (this.type) {\n      case 'src':\n        label = `<span class=\"tooltip-content\">Source: ${this.id}</span>`;\n        break;\n      case 'dest':\n        label = `<span class=\"tooltip-content\">Destination: ${this.id}</span>`;\n        break;\n      case 'hop':\n        label = `<span class=\"tooltip-content\">Node ${this.number}: ${this.id}</span>`;\n        break;\n      case \"src-dest\":\n        label = `<span class=\"tooltip-content\">Source&Destination: ${this.id}</span>`;\n        break;\n      case 'missed-hop':\n        label = `<span class=\"tooltip-content\">Missed node ${this.number}</span>`;\n        break;\n      default:\n        label = this.id\n    }\n\n    return label\n  }\n\n  get color() {\n    let color;\n    switch (this.type) {\n      case \"src\":\n        color = '#ff2b83';\n        break;\n      case \"dest\":\n        color = '#0a7cb3';\n        break;\n      case \"src-dest\":\n        color = '#ad2bff';\n        break;\n      case \"missed-hop\":\n        color = '#ff832b';\n        break;\n      default:\n        color = '#484848'\n    }\n\n    return color\n  }\n\n  get shape() {\n    let shape;\n    switch (this.type) {\n      case \"src\":\n        shape = 'LargeSphere';\n        break;\n      case \"dest\":\n        shape = 'LargeSphere';\n        break;\n      case \"src-dest\":\n        shape = 'LargeSphere';\n        break;\n      default:\n        shape = 'sphere'\n    }\n\n    return shape\n  }\n}\n\nclass Link {\n  constructor(source, target, hopNumber, pathHash, hopStats, completed) {\n    this.id = `${pathHash}-${hopNumber}`;\n    this.source = source.id;\n    this.target = target.id;\n    this.hopNumber = hopNumber;\n    this.pathHash = pathHash;\n    this.hopStats = hopStats;\n    this.curvature = 0;\n    this.rotation = 0;\n    this.distance = this.getDistance();\n    this.velocity = this.getVelocity();\n    this.color = '#484848';\n    this.completed = completed;\n  }\n\n  getDistance() {\n    let dist = 5;\n    if (this.hopStats) {\n      dist = this.hopStats.median;\n      if (dist <= 5) {\n        dist = 5\n      }\n    }\n\n    return dist\n  }\n\n  getVelocity() {\n    let velocity = 0.4;\n    if (this.hopStats) {\n      if (this.hopStats.median <= 0) {\n        velocity = 0.4\n      } else {\n        velocity = Math.exp(-0.05 * (this.hopStats.median + 40));\n      }\n    }\n\n    return velocity\n  }\n\n  set calculateCurvature(counter) {\n    this.curvature = 0.3 * counter\n  }\n\n  get calculateCurvature() {\n    return this.curvature\n  }\n\n  set calculateRotation(counter) {\n    this.rotation = Number((Math.PI * counter / 6).toFixed(3))\n  }\n\n  get calculateRotation() {\n    return this.rotation\n  }\n}\n\nclass GraphData {\n  constructor() {\n    this.nodes = {};\n    this.links = {};\n\n    this.nodesConnectionsCounter = {};\n  }\n\n  addNode(node) {\n    if (node.id in this.nodes && node.type !== 'hop') {\n      if ((node.type === \"src\" && this.nodes[node.id].type === \"dest\") ||\n        (node.type === \"dest\" && this.nodes[node.id].type === \"src\")) {\n        node.type = \"src-dest\";\n        node.label = node.getLabel()\n      }\n      delete this.nodes[node.id]\n      this.nodes[node.id] = node\n    } else {\n      this.nodes[node.id] = node\n    }\n  }\n\n  addLink(link) {\n    if (!(link.id in this.links)) {\n      this.nodesConnectionsCounter[link.source] = this.nodesConnectionsCounter[link.source] ? this.nodesConnectionsCounter[link.source] + 1 : 1;\n\n      link.calculateCurvature = this.nodesConnectionsCounter[link.source];\n      link.calculateRotation = this.nodesConnectionsCounter[link.source];\n      this.links[link.id] = link;\n\n    }\n  }\n\n  jsonData() {\n    return {\n      nodes: Object.values(this.nodes),\n      links: Object.values(this.links)\n    }\n  }\n}\n\nclass ForceDirectedGraph extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      graphData: {\n        nodes: [],\n        links: []\n      }\n    };\n\n    this.graphRef = React.createRef();\n\n    this.focusOnHop = this.focusOnHop.bind(this);\n    this.prepareData = this.prepareData.bind(this);\n    this.getLinkLabel = this.getLinkLabel.bind(this);\n    this.handleHopPressed = this.handleHopPressed.bind(this);\n  }\n\n  getLinkLabel(linkId) {\n    const {pathsStats} = this.props;\n    const hopStats = pathsStats[linkId];\n    return `<div class=\"tooltip-content\">\n              <table>\n                <tr>\n                  <th><span class=\"label\">Min: </span></th>\n                  <td><span class=\"value\">${hopStats ? hopStats.min.toFixed(2) : \"-\"}</span></td>\n                  <th><span class=\"label\">Std. dev.: </span></th>\n                  <td><span class=\"value\">${hopStats ? hopStats.stdDev.toFixed(2) : \"-\"}</span></td>\n                  <th><span class=\"label\">Max: </span></th>\n                  <td><span class=\"value\">${hopStats ? hopStats.max.toFixed(2) : \"-\"}</span></td>\n                </tr>\n                <tr>\n                  <th><span class=\"label\">Q1: </span></th>\n                  <td><span class=\"value\">${hopStats ? hopStats.q1.toFixed(2) : \"-\"}</span></td>\n                  <th><span class=\"label\">Median: </span></th>\n                  <td><span class=\"value\">${hopStats ? hopStats.median.toFixed(2) : \"-\"}</span></td>\n                  <th><span class=\"label\">Q3: </span></th>\n                  <td><span class=\"value\">${hopStats ? hopStats.q3.toFixed(2) : \"-\"}</span></td>\n                </tr>\n            </table>\n          </div>`\n  }\n\n  componentDidMount() {\n    const graphData = this.prepareData();\n    this.graphRef.current.d3Force('link').distance(link => link.distance);\n    this.setState({graphData})\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    if (this.props.responseData !== prevProps.responseData) {\n      const graphData = this.prepareData();\n      this.setState({graphData})\n    }\n\n    if (this.props.selectedHop !== prevProps.selectedHop) {\n      const {selectedPath, selectedHop} = this.props;\n      this.graphRef.current.d3Force('link').distance(link => {\n        if (`${selectedPath}-${selectedHop}` === link.id) {\n          this.focusOnHop(link)\n        }\n\n        return link.distance\n      });\n    }\n  }\n\n  handleHopPressed(hopPressed) {\n    const {selectedPath, selectedHop} = this.props;\n    if (selectedPath === hopPressed.pathHash && selectedHop === hopPressed.hopNumber) {\n      this.props.onPathSelected(null);\n      this.props.onHopSelected({selectedHop: null})\n    } else {\n\n      if (selectedPath === hopPressed.pathHash && selectedHop !== hopPressed.hopNumber) {\n        this.props.onHopSelected({selectedHop: hopPressed.hopNumber})\n      } else {\n        this.props.onPathSelected(hopPressed.pathHash);\n        this.props.onHopSelected({selectedHop: hopPressed.hopNumber})\n      }\n    }\n\n    this.graphRef.current.refresh();\n\n  }\n\n  focusOnHop(hop) {\n    if (hop[\"__arrowObj\"]) {\n      const position = hop[\"__arrowObj\"].position;\n\n      const distance = 250;\n      const distRatio = 1 + distance / Math.hypot(position.x, position.y, position.z);\n\n      this.graphRef.current.cameraPosition(\n        {x: position.x * distRatio, y: position.y * distRatio, z: position.z * distRatio},\n        position,\n        3000\n      );\n    }\n  }\n\n  prepareData() {\n    const {responseData, pathsStats} = this.props;\n    const hits = responseData['hits']['hits'];\n\n    const graphData = new GraphData();\n\n    for (let i = 0; i < hits.length; i++) {\n      const record = hits[i]['_source'];\n      const pathHash = record['route-sha1'];\n\n      const hops = record['hops'];\n      const ttls = record['ttls'];\n\n      const src = new Node(record['src'], 'src', 0, pathHash);\n      graphData.addNode(src);\n      const dest = new Node(record['dest'], 'dest', hops.length - 1, pathHash);\n      graphData.addNode(dest);\n\n      const completed = dest.id === hops[hops.length - 1];\n      let previousNode = src;\n\n      let offset = 1;\n      hops.forEach((hop, idx) => {\n        const ttl = ttls[idx];\n        while (idx + offset < ttl) {\n          const missedNode = new Node(`${pathHash}-${idx + offset}`, 'missed-hop', idx + offset, pathHash);\n          graphData.addNode(missedNode);\n          graphData.addLink(new Link(previousNode, missedNode, idx + offset, pathHash, pathsStats[`${pathHash}-${idx + offset}`], completed));\n          previousNode = missedNode;\n          offset += 1\n        }\n\n        const node = new Node(hop, 'hop', idx + offset, pathHash);\n\n        if (idx !== hops.length - 1) {\n          graphData.addNode(node);\n          graphData.addLink(new Link(previousNode, node, ttl, pathHash, pathsStats[`${pathHash}-${ttl}`], completed));\n          previousNode = node\n        } else {\n          if (completed) {\n            graphData.addLink(new Link(previousNode, dest, ttl, pathHash, pathsStats[`${pathHash}-${ttl}`], completed));\n          } else {\n            graphData.addNode(node);\n            graphData.addLink(new Link(previousNode, node, ttl, pathHash, pathsStats[`${pathHash}-${ttl}`], completed));\n            graphData.addLink(new Link(node, dest, ttl + 1, pathHash, pathsStats[`${pathHash}-${ttl}`], completed));\n          }\n        }\n      })\n\n    }\n\n    return graphData.jsonData()\n\n  }\n\n  render() {\n    const {selectedPath, selectedHop} = this.props;\n\n    return (\n      <ForceGraph3D\n        graphData={this.state.graphData}\n        ref={this.graphRef}\n        backgroundColor={\"#ffffff\"}\n        linkWidth={2.5}\n        linkCurvature={d => d.curvature}\n        linkCurveRotation={d => d.rotation}\n        linkDirectionalArrowLength={10}\n        linkDirectionalArrowRelPos={1}\n        linkColor={link => link.pathHash === selectedPath ? `${selectedPath}-${selectedHop}` === link.id ? \"#21bda8\" : \"#bd1d4f\" : \"#484848\"}\n        linkDirectionalParticles={link => link.pathHash === selectedPath ? 3 : 0}\n        linkDirectionalParticleWidth={4}\n        linkDirectionalParticleSpeed={d => d.velocity}\n        nodeLabel={n => n.label}\n        linkLabel={l => this.getLinkLabel(l.id)}\n        showNavInfo={false}\n        onLinkClick={link => this.handleHopPressed(link)}\n        nodeThreeObject={({shape, color}) => new Mesh(\n          shapes[shape],\n          new MeshBasicMaterial({color})\n        )}\n      />\n    )\n  }\n\n}\n\nexport default ForceDirectedGraph;\n","import React, {Component} from 'react';\nimport './css/request.css'\n\n\nclass RequestLoader extends Component {\n  render() {\n    return (\n      <div id={\"loader\"} className={this.props.hidden ? \"loader hidden\": \"loader\"}>\n        <div className={\"loader-inner\"}>\n          <div className=\"container\">\n            <div className=\"dot-container\">\n              <div className=\"dot src\"/>\n              <div className=\"dot\"/>\n              <div className=\"dot\"/>\n            </div>\n            <div className=\"dot-container\">\n              <div className=\"dot\"/>\n              <div className=\"dot missed\"/>\n              <div className=\"dot\"/>\n            </div>\n            <div className=\"dot-container\">\n              <div className=\"dot src-dest\"/>\n              <div className=\"dot\"/>\n              <div className=\"dot dest\"/>\n            </div>\n          </div>\n          <p>Loading</p>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default RequestLoader;\n","import React, {Component} from 'react';\nimport './css/preview.css'\n\nclass ItemsPreview extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.focusOnFilter = this.focusOnFilter.bind(this)\n  }\n\n  focusOnFilter() {\n    const container = this.props.queryContainer.current;\n    if (!container.classList.contains(\"opened\")) {\n      container.classList.add(\"opened\")\n    }\n\n    const {itemID} = this.props;\n    const switcher = document.getElementById(`${itemID}-switcher`);\n    switcher.click()\n  }\n\n  render() {\n    const {name, items} = this.props;\n\n    if (!items.length) {\n      return <div/>\n    }\n\n    return (\n      <div className={\"filter-preview-item\"}>\n        <button onClick={this.focusOnFilter} className={\"focus-on-ipv\"}>{name}: <span className={\"items-counter\"}>{items.length}</span></button>\n      </div>\n    )\n  }\n}\n\nclass IPv6Preview extends Component {\n  constructor(props) {\n    super(props);\n\n    this.switchIPv = this.switchIPv.bind(this)\n  }\n\n  switchIPv () {\n    if (this.props.IPv6) {\n      document.getElementById(\"ipv4-selection\").click()\n    } else {\n      document.getElementById(\"ipv6-selection\").click()\n    }\n\n    const {triggerRequest} = this.props;\n\n    setTimeout(function () {\n      triggerRequest()\n    }, 1000)\n\n  }\n\n  render() {\n    const { IPv6 } = this.props;\n    return (\n      <div className={\"filter-preview-item\"}>\n        <button onClick={this.switchIPv} className={\"focus-on-ipv\"}>{IPv6 ? \"IPv6\": \"IPv4\"}</button>\n      </div>\n    )\n  }\n}\n\nclass TimePreview extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.focusDatetimeFrom = this.focusDatetimeFrom.bind(this);\n    this.focusDatetimeTo = this.focusDatetimeTo.bind(this)\n  }\n\n  focusDatetimeFrom() {\n    const container = document.getElementById(\"time-query\");\n    if (!container.classList.contains(\"opened\")) {\n      const switcher = document.getElementsByClassName(\"search-query-switcher\")[0];\n      switcher.childNodes[0].click()\n    }\n\n    this.focusInput(0)\n  }\n\n  focusDatetimeTo() {\n    const container = document.getElementById(\"time-query\");\n    if (!container.classList.contains(\"opened\")) {\n      const switcher = document.getElementsByClassName(\"search-query-switcher\")[0];\n      switcher.childNodes[0].click()\n    }\n\n    this.focusInput(1)\n  }\n\n  focusInput(index) {\n    const inputs = document.getElementsByClassName(\"form-control\");\n    inputs[index].click()\n  }\n\n  render() {\n    const { datetimeFrom, datetimeTo } = this.props;\n\n    return (\n      <div className={\"filter-preview-item\"}>\n        <i className=\"im im-history\"/>\n        <button onClick={this.focusDatetimeFrom} className={\"focus-on-time\"}>{datetimeFrom.toISOString().slice(0, 19).replace(\"T\", \" \")}</button>\n        <i className=\"im im-arrow-right\"/>\n        <button onClick={this.focusDatetimeTo} className={\"focus-on-time\"}>{datetimeTo.toISOString().slice(0, 19).replace(\"T\", \" \")}</button>\n      </div>\n    )\n  }\n}\n\nclass FiltersPreview extends Component {\n  render() {\n    const { query, itemsFilters, queryContainer } = this.props;\n\n    const itemsFiltersContent = [];\n    itemsFilters.forEach((item, i) => {\n      itemsFiltersContent.push(\n        <ItemsPreview\n          queryContainer={queryContainer}\n          key={`${i}-filter-preview`}\n          name={item.title}\n          items={query[item.id]}\n          itemID={item.id}\n        />\n      )\n    });\n\n    return (\n      <div className={\"filter-preview\"}>\n        <div className={\"filter-preview-inner\"}>\n          <TimePreview\n            datetimeFrom={query.datetimeFrom}\n            datetimeTo={query.datetimeTo}\n          />\n          <IPv6Preview\n            IPv6={query.IPv6}\n            triggerRequest={this.props.triggerRequest}\n          />\n          {itemsFiltersContent}\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default FiltersPreview;\n","import React, { Component } from 'react';\nimport ItemsQuery from \"./components/filters/items-query\";\nimport TimeQuery from \"./components/filters/time-query\";\nimport IPvQuery from \"./components/filters/ipv-query\";\nimport PathsTable from \"./components/tables/paths-table\";\nimport PathChart from \"./components/viewers/path-chart\";\nimport PathInfo from \"./components/viewers/path-info\";\nimport ForceDirectedGraph from \"./components/graphs/force-directed-graph\";\nimport {dispatchUrl, packUrl, reformAggregations} from \"./utils/common\";\nimport RequestLoader from \"./components/loaders/request\";\nimport FiltersPreview from \"./components/filters/preview\";\nimport './App.css';\nimport 'logo.svg';\n\nimport { config } from './constants'\n\nclass App extends Component {\n\n  constructor (props) {\n    super(props);\n\n    this.state = {\n      responseData: null,\n      pathsStats: null,\n      currentUrl: \"\",\n      interruptedUrl: \"\",\n      query: {\n        datetimeFrom: null,\n        datetimeTo: null,\n        sources: [],\n        sources_hosts: [],\n        destinations: [],\n        destinations_hosts: [],\n        virtual_organisations: [], // not here yet\n        IPv6: false\n      },\n      pathInfo: {\n        filterWrongMeasurements: false\n      },\n      pathTableData: null,\n      graphVisualisation: {\n        threeDimensions: false,\n        linksPower: 1,\n        showMissedHops: false\n      },\n      graphNavigation: {\n        selectedPath: null\n      },\n      pathNavigation: {\n        selectedHop: null\n      },\n      ipv4Items: null,\n      ipv6Items: null\n    };\n\n    this.pathChartRef = React.createRef();\n    this.queryContainerRef = React.createRef();\n    this.preLoaderContainer = React.createRef();\n    this.preLoaderErrors = React.createRef();\n    this.loaderContainer = React.createRef();\n    this.loaderErrors = React.createRef();\n\n    this.handleQueryChange = this.handleQueryChange.bind(this);\n    this.handlePathSelected = this.handlePathSelected.bind(this);\n    this.handleHopSelected = this.handleHopSelected.bind(this);\n    this.handleHideShow = this.handleHideShow.bind(this);\n\n    this.getData = this.getData.bind(this);\n  }\n\n  async componentDidMount() {\n    let urlParams = window.location.search;\n    let query;\n    let response;\n    let aggregations_response;\n    let aggregations_content;\n    let ipv4Items = {};\n    let ipv6Items = {};\n    let response_content;\n    let retry = 0;\n\n    while (retry < 10) {\n      try {\n        if (!urlParams.length) {\n          response = await fetch(`${config.url.API_URL}query`);\n          response_content = await response.json();\n\n          query = {...this.state.query};\n          query.datetimeFrom = new Date(response_content[\"datetime_range\"][0]);\n          query.datetimeTo = new Date(response_content[\"datetime_range\"][1])\n        } else {\n          response = await fetch(`${config.url.API_URL}query${urlParams}`);\n          response_content = await response.json();\n          query = dispatchUrl(urlParams);\n        }\n\n        aggregations_response = await fetch(`${config.url.API_URL}aggregations/true`);\n        aggregations_content = await aggregations_response.json();\n        ipv4Items = reformAggregations(aggregations_content[\"es_data\"][\"aggregations\"])\n\n        aggregations_response = await fetch(`${config.url.API_URL}aggregations/false`);\n        aggregations_content = await aggregations_response.json();\n        ipv6Items = reformAggregations(aggregations_content[\"es_data\"][\"aggregations\"])\n\n        this.preLoaderContainer.current.classList.add(\"hidden\");\n        break;\n      } catch (error) {\n        retry += 1\n        this.preLoaderErrors.current.innerHTML = \"\";\n        this.preLoaderErrors.current.append(\n          `Failed to get response from server. Retry ${retry}/10`\n        );\n        this.preLoaderContainer.current.classList.remove(\"hidden\")\n      }\n    }\n\n    try {\n      if (response_content.status) {\n        urlParams = packUrl(query);\n        const currentUrl = `${config.url.API_URL}query${urlParams}`;\n        window.history.pushState(null, 'queried', window.location.origin + urlParams);\n        const responseData = response_content['es_data'];\n        const pathsStats = response_content['stats'];\n        this.setState({query, responseData, pathsStats, currentUrl, ipv4Items, ipv6Items})\n        if (this.preLoaderErrors.current) {\n          this.preLoaderContainer.current.classList.add(\"hidden\")\n        }\n      } else {\n        alert(JSON.stringify(response_content.message))\n      }\n    } catch (error) {\n      if (this.preLoaderErrors.current) {\n        this.preLoaderErrors.current.innerHTML = \"\";\n        this.preLoaderErrors.current.append(\n          `Failed to get response from server. Try later.`\n        )\n      }\n    }\n\n  }\n\n  handleQueryChange(query) {\n    this.setState({query})\n  }\n\n  handlePathSelected(pathID) {\n    const {graphNavigation} = this.state;\n    if (pathID === graphNavigation.selectedPath) {\n      graphNavigation.selectedPath = null;\n    } else {\n      graphNavigation.selectedPath = pathID;\n    }\n    this.setState({graphNavigation})\n  }\n\n  handleHopSelected(pathNavigation) {\n    this.setState({pathNavigation})\n  }\n\n  async getData() {\n    const query = this.state.query;\n    const urlParams = packUrl(query);\n    let url;\n    let retry = 0;\n\n    const loader = document.getElementById(\"loader\");\n    loader.classList.remove(\"hidden\");\n\n    url = `${config.url.API_URL}query${urlParams}`;\n    window.history.pushState(null, 'queried', window.location.origin + urlParams);\n    if (url !== this.state.currentUrl) {\n      while (retry < 10) {\n        try {\n          await fetch(url)\n            .then(res => res.json())\n            .then(responseData => {\n              if (responseData.status) {\n                if (responseData[\"number_of_paths\"] > 50) {\n                  let answer = window.confirm(`Number of paths is ${responseData[\"number_of_paths\"]}, which is not recommended for rendering. Are you sure you want to continue?`);\n                  if (answer) {\n                    this.setState({pathsStats: responseData['stats']});\n                    this.setState({responseData: responseData['es_data']});\n                  }\n                } else {\n                  this.setState({pathsStats: responseData['stats']});\n                  this.setState({responseData: responseData['es_data']});\n                }\n              } else {\n                alert(JSON.stringify(responseData.message))\n              }\n            });\n          this.loaderContainer.current.classList.add(\"hidden\");\n          retry = 10\n        } catch (error) {\n          retry += 1\n          this.loaderErrors.current.innerHTML = \"\";\n          this.loaderErrors.current.append(\n            `Failed to get response from server. Retry ${retry}/10`\n          )\n          this.loaderContainer.current.classList.remove(\"hidden\");\n        }\n      }\n\n      this.setState({currentUrl: url})\n    }\n\n    loader.classList.add(\"hidden\");\n  }\n\n  handleHideShow() {\n    const classList = this.queryContainerRef.current.classList;\n    if (classList.contains(\"opened\")) {\n      classList.remove(\"opened\")\n    } else {\n      classList.add(\"opened\")\n    }\n  }\n\n  render() {\n    if (this.state.responseData === null) {\n      return (\n        <div>\n          <RequestLoader\n            hidden={false}\n          />\n          <div ref={this.preLoaderContainer} className={\"errors-on-load hidden\"}>\n            <p ref={this.preLoaderErrors}/>\n          </div>\n        </div>\n      )\n    }\n\n    let itemsFilters = [\n      {title: \"Sources\", id: \"sources\", hideIPs: false},\n      {title: \"Sources hosts\", id: \"sources_hosts\", hideIPs: false},\n      {title: \"Destinations\", id: \"destinations\", hideIPs: false},\n      {title: \"Destinations hosts\", id: \"destinations_hosts\", hideIPs: false}\n    ];\n\n    return (\n      <div className={\"app-wrapper\"}>\n        <FiltersPreview\n          queryContainer={this.queryContainerRef}\n          query={this.state.query}\n          itemsFilters={itemsFilters}\n          triggerRequest={this.getData}\n        />\n        <div ref={this.queryContainerRef} className={\"query-container opened\"} onMouseLeave={this.getData}>\n          <div className={\"query-container-inner\"}>\n            <div id={\"query-switcher\"}>\n              <button onClick={this.handleHideShow}>\n                <i className=\"im im-arrow-right\"/>\n              </button>\n            </div>\n            <div className={\"query-container-body\"}>\n              <div id={\"logo\"} onClick={() => document.location.href = \"/\"}/>\n              <TimeQuery\n                query={this.state.query}\n                onQueryChange={this.handleQueryChange}\n              />\n              <div className={\"query-separator\"}/>\n              <IPvQuery\n                strikeQuery={this.getData}\n                query={this.state.query}\n                onQueryChange={this.handleQueryChange}\n              />\n              <div className={\"query-separator\"}/>\n              <ItemsQuery\n                strikeQuery={this.getData}\n                query={this.state.query}\n                itemsFilters={itemsFilters}\n                ipv4Items={this.state.ipv4Items}\n                ipv6Items={this.state.ipv6Items}\n                aggregations={this.state.responseData.aggregations}\n                onQueryChange={this.handleQueryChange}\n              />\n            </div>\n          </div>\n        </div>\n        <div className={\"table-container\"}>\n          <PathsTable\n            paths={this.state.responseData['hits']['hits']}\n            onPathSelected={this.handlePathSelected}\n            selectedPath={this.state.graphNavigation.selectedPath}\n            onHopSelected={this.handleHopSelected}\n          />\n        </div>\n        <div className={\"path-chart-container\"}>\n          <PathChart\n            pathChartRef={this.pathChartRef}\n            pathInfo={this.state.pathInfo}\n            paths={this.state.responseData['hits']['hits']}\n            selectedPath={this.state.graphNavigation.selectedPath}\n            onHopSelected={this.handleHopSelected}\n          />\n        </div>\n        <div className={\"path-info-container\"}>\n          <PathInfo\n            pathChart={this.pathChartRef}\n            pathInfo={this.state.pathInfo}\n            paths={this.state.responseData['hits']['hits']}\n            pathsStats={this.state.pathsStats}\n            selectedPath={this.state.graphNavigation.selectedPath}\n            selectedHop={this.state.pathNavigation.selectedHop}\n            onHopSelected={this.handleHopSelected}\n          />\n        </div>\n        <div id={\"graph-container\"}>\n          <ForceDirectedGraph\n            responseData={this.state.responseData}\n            pathsStats={this.state.pathsStats}\n            graphVisualisation={this.state.graphVisualisation}\n            graphNavigation={this.state.graphNavigation}\n            pathNavigation={this.state.pathNavigation}\n            onHopSelected={this.handleHopSelected}\n            onPathSelected={this.handlePathSelected}\n            selectedPath={this.state.graphNavigation.selectedPath}\n            selectedHop={this.state.pathNavigation.selectedHop}\n          />\n        </div>\n        <div>\n          <RequestLoader\n            hidden={true}\n          />\n          <div ref={this.loaderContainer} className={\"errors-on-load hidden\"}>\n            <p ref={this.loaderErrors}/>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}